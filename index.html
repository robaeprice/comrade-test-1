<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="Content-Style-Type" content="text/css">
  <title></title>
  <meta name="Generator" content="Cocoa HTML Writer">
  <meta name="CocoaVersion" content="2685.3">
  <style type="text/css">
    p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}
    p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; min-height: 14.0px}
  </style>
</head>
<body>
<p class="p1">&lt;!DOCTYPE html&gt;</p>
<p class="p1">&lt;html lang="en"&gt;</p>
<p class="p1">&lt;head&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;meta charset="UTF-8"&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;title&gt;COMRADE&lt;/title&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"&gt;&lt;/script&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"&gt;&lt;/script&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;script src="https://unpkg.com/@babel/standalone/babel.min.js"&gt;&lt;/script&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;script src="https://cdn.tailwindcss.com"&gt;&lt;/script&gt;</p>
<p class="p1">&lt;/head&gt;</p>
<p class="p1">&lt;body&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;div id="root"&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;script type="text/babel"&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>import React, { useState, useCallback, useEffect, useMemo } from 'react';</p>
<p class="p2"><br></p>
<p class="p1">// ==================== UTILITY FUNCTIONS ====================</p>
<p class="p2"><br></p>
<p class="p1">// Helper function to apply weighting to wealth values</p>
<p class="p1">const applyWeighting = (wealth, weighting) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">  </span>if (weighting === 'none') return 1;</p>
<p class="p1"><span class="Apple-converted-space">  </span>if (weighting === 'gentle') return Math.sqrt(wealth);</p>
<p class="p1"><span class="Apple-converted-space">  </span>if (weighting === 'strong') return wealth * wealth;</p>
<p class="p1"><span class="Apple-converted-space">  </span>return wealth; // standard</p>
<p class="p1">};</p>
<p class="p2"><br></p>
<p class="p1">// ==================== END UTILITY FUNCTIONS ====================</p>
<p class="p2"><br></p>
<p class="p1">const CurrencySelector = ({ currency, setCurrency }) =&gt; (</p>
<p class="p1"><span class="Apple-converted-space">  </span>&lt;div className="bg-gray-100 p-2 border-2 border-dotted border-black"&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>{['$', '€', '£'].map(c =&gt; (</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;button key={c} onClick={() =&gt; setCurrency(c)} className={`px-3 py-1 mx-1 font-bold ${currency === c ? 'bg-black text-white' : 'bg-white text-black border border-gray-400'}`}&gt;{c}&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>))}</p>
<p class="p1"><span class="Apple-converted-space">  </span>&lt;/div&gt;</p>
<p class="p1">);</p>
<p class="p2"><br></p>
<p class="p1">const WealthTypeSelector = ({ wealthType, setWealthType }) =&gt; (</p>
<p class="p1"><span class="Apple-converted-space">  </span>&lt;div className="bg-gray-100 p-2 border-2 border-dotted border-black"&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>{['salary', 'networth'].map(w =&gt; (</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;button key={w} onClick={() =&gt; setWealthType(w)} className={`px-3 py-1 mx-1 font-bold text-xs ${wealthType === w ? 'bg-black text-white' : 'bg-white text-black border border-gray-400'}`}&gt;{w === 'salary' ? 'SALARY' : 'NET WORTH'}&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>))}</p>
<p class="p1"><span class="Apple-converted-space">  </span>&lt;/div&gt;</p>
<p class="p1">);</p>
<p class="p2"><br></p>
<p class="p1">const MeasurementSelector = ({ sizeUnit, setSizeUnit }) =&gt; (</p>
<p class="p1"><span class="Apple-converted-space">  </span>&lt;div className="bg-gray-100 p-2 border-2 border-dotted border-black"&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>{['sqft', 'sqm'].map(u =&gt; (</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;button key={u} onClick={() =&gt; setSizeUnit(u)} className={`px-3 py-1 mx-1 font-bold text-xs ${sizeUnit === u ? 'bg-black text-white' : 'bg-white text-black border border-gray-400'}`}&gt;{u === 'sqft' ? 'SQ FT' : 'SQ M'}&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>))}</p>
<p class="p1"><span class="Apple-converted-space">  </span>&lt;/div&gt;</p>
<p class="p1">);</p>
<p class="p2"><br></p>
<p class="p1">const DashedDivider = () =&gt; &lt;div className="border-t-2 border-dashed border-gray-400 my-6" /&gt;;</p>
<p class="p2"><br></p>
<p class="p1">const WeightingButtons = ({ value, onChange }) =&gt; (</p>
<p class="p1"><span class="Apple-converted-space">  </span>&lt;div className="flex justify-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;div className="bg-gray-100 p-2 border-2 border-dotted border-black inline-block"&gt;</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;div className="flex flex-wrap gap-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>{[</p>
<p class="p1"><span class="Apple-converted-space">          </span>{value: 'gentle', label: 'LIGHT'},</p>
<p class="p1"><span class="Apple-converted-space">          </span>{value: 'standard', label: 'STANDARD'},</p>
<p class="p1"><span class="Apple-converted-space">          </span>{value: 'strong', label: 'HEAVY'},</p>
<p class="p1"><span class="Apple-converted-space">          </span>{value: 'none', label: 'NONE'}</p>
<p class="p1"><span class="Apple-converted-space">        </span>].map(w =&gt; (</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;button key={w.value} onClick={() =&gt; onChange(w.value)} className={`flex-1 min-w-[100px] p-3 font-bold text-xs border-2 ${value === w.value ? 'bg-black text-white border-black' : w.value === 'none' ? 'bg-gray-200 text-gray-500 border-gray-400' : 'bg-white text-black border-gray-400'}`}&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>{w.label}</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>))}</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">  </span>&lt;/div&gt;</p>
<p class="p1">);</p>
<p class="p2"><br></p>
<p class="p1">const FormInput = ({ type = 'text', value, onChange, placeholder, className = '', style, ...props }) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">  </span>const baseClasses = "w-full p-2 border-2 border-gray-400 bg-white text-xs uppercase";</p>
<p class="p2"><span class="Apple-converted-space">  </span></p>
<p class="p1"><span class="Apple-converted-space">  </span>if (type === 'textarea') {</p>
<p class="p1"><span class="Apple-converted-space">    </span>return (</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;textarea</p>
<p class="p1"><span class="Apple-converted-space">        </span>value={value}</p>
<p class="p1"><span class="Apple-converted-space">        </span>onChange={onChange}</p>
<p class="p1"><span class="Apple-converted-space">        </span>placeholder={placeholder}</p>
<p class="p1"><span class="Apple-converted-space">        </span>className={`${baseClasses} ${className}`}</p>
<p class="p1"><span class="Apple-converted-space">        </span>style={style}</p>
<p class="p1"><span class="Apple-converted-space">        </span>{...props}</p>
<p class="p1"><span class="Apple-converted-space">      </span>/&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>);</p>
<p class="p1"><span class="Apple-converted-space">  </span>}</p>
<p class="p2"><span class="Apple-converted-space">  </span></p>
<p class="p1"><span class="Apple-converted-space">  </span>return (</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;input</p>
<p class="p1"><span class="Apple-converted-space">      </span>type={type}</p>
<p class="p1"><span class="Apple-converted-space">      </span>value={value}</p>
<p class="p1"><span class="Apple-converted-space">      </span>onChange={onChange}</p>
<p class="p1"><span class="Apple-converted-space">      </span>placeholder={placeholder}</p>
<p class="p1"><span class="Apple-converted-space">      </span>className={`${baseClasses} ${className}`}</p>
<p class="p1"><span class="Apple-converted-space">      </span>style={style}</p>
<p class="p1"><span class="Apple-converted-space">      </span>{...props}</p>
<p class="p1"><span class="Apple-converted-space">    </span>/&gt;</p>
<p class="p1"><span class="Apple-converted-space">  </span>);</p>
<p class="p1">};</p>
<p class="p2"><br></p>
<p class="p1">const ItemList = ({ items, onDelete, renderItem }) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">  </span>if (items.length === 0) return null;</p>
<p class="p2"><span class="Apple-converted-space">  </span></p>
<p class="p1"><span class="Apple-converted-space">  </span>return (</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;div className="mt-4 space-y-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">      </span>{items.map((item) =&gt; (</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;div key={item.id} className="bg-white p-3 border border-black flex justify-between items-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;div className="flex-1"&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>{renderItem(item)}</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;button onClick={() =&gt; onDelete(item.id)} className="text-black font-bold text-xl ml-3 hover:text-gray-600"&gt;×&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">      </span>))}</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">  </span>);</p>
<p class="p1">};</p>
<p class="p2"><br></p>
<p class="p1">const AddItemCard = ({ title, fields, onAdd, items, onDelete, renderItem, addButtonLabel, containerClassName }) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">  </span>const className = containerClassName !== undefined ? containerClassName : "bg-white p-6 border-2 border-dashed border-gray-400 mb-4";</p>
<p class="p2"><span class="Apple-converted-space">  </span></p>
<p class="p1"><span class="Apple-converted-space">  </span>return (</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;div className={className}&gt;</p>
<p class="p1"><span class="Apple-converted-space">      </span>{title &amp;&amp; &lt;h3 className="text-lg font-bold mb-4 text-black uppercase tracking-wider border-b-2 border-dashed border-gray-400 pb-2"&gt;{title}&lt;/h3&gt;}</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;div className="flex flex-wrap gap-2 mb-3"&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>{fields.map((field, idx) =&gt; (</p>
<p class="p1"><span class="Apple-converted-space">          </span>field.type === 'select' ? (</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;select</p>
<p class="p1"><span class="Apple-converted-space">              </span>key={idx}</p>
<p class="p1"><span class="Apple-converted-space">              </span>value={field.value}</p>
<p class="p1"><span class="Apple-converted-space">              </span>onChange={field.onChange}</p>
<p class="p1"><span class="Apple-converted-space">              </span>className="flex-1 p-2 border-2 border-gray-400 bg-white text-xs uppercase"</p>
<p class="p1"><span class="Apple-converted-space">              </span>style={{ minWidth: field.minWidth || '120px', height: '38px' }}</p>
<p class="p1"><span class="Apple-converted-space">            </span>&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;option value=""&gt;{field.placeholder}&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>{field.options &amp;&amp; field.options.map((opt, i) =&gt; (</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;option key={i} value={opt.value || opt}&gt;{opt.label || opt}&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>))}</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/select&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>) : (</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;FormInput</p>
<p class="p1"><span class="Apple-converted-space">              </span>key={idx}</p>
<p class="p1"><span class="Apple-converted-space">              </span>type={field.type || 'text'}</p>
<p class="p1"><span class="Apple-converted-space">              </span>value={field.value}</p>
<p class="p1"><span class="Apple-converted-space">              </span>onChange={field.onChange}</p>
<p class="p1"><span class="Apple-converted-space">              </span>placeholder={field.placeholder}</p>
<p class="p1"><span class="Apple-converted-space">              </span>min={field.min}</p>
<p class="p1"><span class="Apple-converted-space">              </span>step={field.step}</p>
<p class="p1"><span class="Apple-converted-space">              </span>inputMode={field.inputMode}</p>
<p class="p1"><span class="Apple-converted-space">              </span>className="flex-1"</p>
<p class="p1"><span class="Apple-converted-space">              </span>style={{ minWidth: field.minWidth || '120px' }}</p>
<p class="p1"><span class="Apple-converted-space">            </span>/&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>)</p>
<p class="p1"><span class="Apple-converted-space">        </span>))}</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;button onClick={onAdd} className="bg-black text-white px-4 py-2 font-bold border-2 border-black text-xs"&gt;{addButtonLabel}&lt;/button&gt;</p>
<p class="p2"><span class="Apple-converted-space">      </span></p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;ItemList items={items} onDelete={onDelete} renderItem={renderItem} /&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">  </span>);</p>
<p class="p1">};</p>
<p class="p2"><br></p>
<p class="p1">const ResponsiveDataTable = ({ data, columns, mobileCardConfig }) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">  </span>return (</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;&gt;</p>
<p class="p1"><span class="Apple-converted-space">      </span>{/* Desktop Table */}</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;div className="hidden md:block overflow-x-auto"&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;table className="w-full border-collapse border-2 border-black"&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;thead&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;tr className="bg-gray-200"&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>{columns.map((col, idx) =&gt; (</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;th key={idx} className="p-3 text-left font-bold text-black border-2 border-black text-xs uppercase"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                  </span>{col.header}</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/th&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>))}</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/tr&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;/thead&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;tbody&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>{data.map((item, i) =&gt; (</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;tr key={item.id || i} className={i % 2 === 0 ? 'bg-white' : 'bg-gray-50'}&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>{columns.map((col, colIdx) =&gt; (</p>
<p class="p1"><span class="Apple-converted-space">                  </span>&lt;td key={colIdx} className={`p-3 border border-black text-xs ${col.className || 'text-black'}`}&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>{col.render(item, i)}</p>
<p class="p1"><span class="Apple-converted-space">                  </span>&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>))}</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;/tr&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>))}</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;/tbody&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;/table&gt;</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">      </span>{/* Mobile Cards */}</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;div className="md:hidden space-y-3"&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>{data.map((item, idx) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">          </span>const cardClassName = typeof mobileCardConfig.cardClassName === 'function'<span class="Apple-converted-space"> </span></p>
<p class="p1"><span class="Apple-converted-space">            </span>? mobileCardConfig.cardClassName(item, idx)</p>
<p class="p1"><span class="Apple-converted-space">            </span>: mobileCardConfig.cardClassName || 'bg-white p-4 border-2 border-gray-400';</p>
<p class="p2"><span class="Apple-converted-space">          </span></p>
<p class="p1"><span class="Apple-converted-space">          </span>return (</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div key={item.id || idx} className={cardClassName}&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>{mobileCardConfig.titleExtra ? (</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div className="flex justify-between items-start mb-3 border-b border-dashed border-gray-400 pb-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                  </span>&lt;p className="font-bold text-sm text-black uppercase"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>{mobileCardConfig.getTitle(item, idx)}</p>
<p class="p1"><span class="Apple-converted-space">                  </span>&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                  </span>{mobileCardConfig.titleExtra(item, idx)}</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>) : (</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;p className="font-bold text-sm text-black mb-3 uppercase border-b border-dashed border-gray-400 pb-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                  </span>{mobileCardConfig.getTitle(item, idx)}</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>)}</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;div className="space-y-2 text-xs"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>{mobileCardConfig.rows.map((row, rowIdx) =&gt; (</p>
<p class="p1"><span class="Apple-converted-space">                  </span>&lt;div key={rowIdx} className={row.className || 'flex justify-between'}&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;span className="text-black font-bold"&gt;{row.label}:&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;span className={row.valueClassName || 'font-semibold text-black'}&gt;{row.getValue(item)}&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                  </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>))}</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>);</p>
<p class="p1"><span class="Apple-converted-space">        </span>})}</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;/&gt;</p>
<p class="p1"><span class="Apple-converted-space">  </span>);</p>
<p class="p1">};</p>
<p class="p2"><br></p>
<p class="p1">const Layout = ({ children, onNavigate, showCopyToast }) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">  </span>return (</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;div style={{fontFamily: 'Courier New, monospace', background: 'linear-gradient(135deg, rgba(220,20,60,0.85) 0%, rgba(255,140,0,0.85) 100%), url("data:image/svg+xml,%3Csvg width=\'75\' height=\'90\' xmlns=\'http://www.w3.org/2000/svg\'%3E%3Ctext x=\'10\' y=\'20\' font-family=\'Courier New,monospace\' font-size=\'18\' fill=\'%23ffffff\' font-weight=\'bold\'%3E$%3C/text%3E%3Ctext x=\'35\' y=\'20\' font-family=\'Courier New,monospace\' font-size=\'18\' fill=\'%23ffffff\' font-weight=\'bold\'%3E€%3C/text%3E%3Ctext x=\'60\' y=\'20\' font-family=\'Courier New,monospace\' font-size=\'18\' fill=\'%23ffffff\' font-weight=\'bold\'%3E£%3C/text%3E%3Ctext x=\'3\' y=\'50\' font-family=\'Courier New,monospace\' font-size=\'18\' fill=\'%23ffffff\' font-weight=\'bold\'%3E€%3C/text%3E%3Ctext x=\'28\' y=\'50\' font-family=\'Courier New,monospace\' font-size=\'18\' fill=\'%23ffffff\' font-weight=\'bold\'%3E£%3C/text%3E%3Ctext x=\'53\' y=\'50\' font-family=\'Courier New,monospace\' font-size=\'18\' fill=\'%23ffffff\' font-weight=\'bold\'%3E$%3C/text%3E%3Ctext x=\'17\' y=\'80\' font-family=\'Courier New,monospace\' font-size=\'18\' fill=\'%23ffffff\' font-weight=\'bold\'%3E£%3C/text%3E%3Ctext x=\'42\' y=\'80\' font-family=\'Courier New,monospace\' font-size=\'18\' fill=\'%23ffffff\' font-weight=\'bold\'%3E$%3C/text%3E%3Ctext x=\'67\' y=\'80\' font-family=\'Courier New,monospace\' font-size=\'18\' fill=\'%23ffffff\' font-weight=\'bold\'%3E€%3C/text%3E%3C/svg%3E") #dc143c', minHeight: '100vh'}}&gt;</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;style&gt;{`</p>
<p class="p1"><span class="Apple-converted-space">        </span>* {</p>
<p class="p1"><span class="Apple-converted-space">          </span>font-family: 'Courier New, monospace !important;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>html, body {</p>
<p class="p1"><span class="Apple-converted-space">          </span>overflow-y: auto !important;</p>
<p class="p1"><span class="Apple-converted-space">          </span>height: auto !important;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>@keyframes fadeIn {</p>
<p class="p1"><span class="Apple-converted-space">          </span>from {</p>
<p class="p1"><span class="Apple-converted-space">            </span>opacity: 0;</p>
<p class="p1"><span class="Apple-converted-space">            </span>transform: translateY(-10px);</p>
<p class="p1"><span class="Apple-converted-space">          </span>}</p>
<p class="p1"><span class="Apple-converted-space">          </span>to {</p>
<p class="p1"><span class="Apple-converted-space">            </span>opacity: 1;</p>
<p class="p1"><span class="Apple-converted-space">            </span>transform: translateY(0);</p>
<p class="p1"><span class="Apple-converted-space">          </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>.animate-fadeIn {</p>
<p class="p1"><span class="Apple-converted-space">          </span>animation: fadeIn 0.3s ease-in-out;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>@keyframes barGrow {</p>
<p class="p1"><span class="Apple-converted-space">          </span>from {</p>
<p class="p1"><span class="Apple-converted-space">            </span>width: 0;</p>
<p class="p1"><span class="Apple-converted-space">          </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>.bar-animate {</p>
<p class="p1"><span class="Apple-converted-space">          </span>animation: barGrow 0.8s ease-out forwards;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>button:active {</p>
<p class="p1"><span class="Apple-converted-space">          </span>transform: scale(0.97);</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>.receipt-container {</p>
<p class="p1"><span class="Apple-converted-space">          </span>position: relative;</p>
<p class="p1"><span class="Apple-converted-space">          </span>background: white;</p>
<p class="p1"><span class="Apple-converted-space">          </span>border: 4px solid #000;</p>
<p class="p1"><span class="Apple-converted-space">          </span>box-shadow: 0 10px 40px rgba(0,0,0,0.3);</p>
<p class="p1"><span class="Apple-converted-space">          </span>min-height: calc(100vh - 40px);</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">      </span>`}&lt;/style&gt;</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;div className="max-w-xl mx-auto px-2 sm:px-0 py-5"&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;div className="receipt-container"&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;div className="pt-4 px-6 pb-6"&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div className="border-t-2 border-dashed border-gray-400 mt-2 mb-4"&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div className="bg-white mb-4 pb-6 border-b-4 border-black"&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;div className="cursor-pointer text-center" onClick={() =&gt; onNavigate('home')}&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div className="text-xs font-bold text-black mb-2 uppercase tracking-wider"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                  </span>{'$ € £ $ € £ $ € £ $ € £ $ € £ $ € £'}</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;h1 className="font-black text-black tracking-wider text-4xl"&gt;COMRADE&lt;/h1&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div className="text-xs font-bold text-black mt-2 uppercase tracking-wider"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                  </span>{'$ € £ $ € £ $ € £ $ € £ $ € £ $ € £'}</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;style&gt;{`</p>
<p class="p1"><span class="Apple-converted-space">              </span>/* Set page title and meta description for link previews */</p>
<p class="p1"><span class="Apple-converted-space">              </span>document.title = "COMRADE";</p>
<p class="p1"><span class="Apple-converted-space">            </span>`}&lt;/style&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>{children}</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div className="flex items-center gap-4 my-6"&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;div className="flex-1 border-t border-black"&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;span className="text-xs font-bold"&gt;{'$ € £'}&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;div className="flex-1 border-t border-black"&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div className="text-center mt-4 mb-4 text-black text-xs"&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;span className="cursor-pointer hover:underline font-bold" onClick={() =&gt; onNavigate('home')}&gt;HOME&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;span className="mx-3"&gt;/&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;span className="cursor-pointer hover:underline font-bold" onClick={() =&gt; onNavigate('about')}&gt;ABOUT&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;span className="mx-3"&gt;/&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;span className="cursor-pointer hover:underline font-bold" onClick={() =&gt; onNavigate('contact')}&gt;CONTACT&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;span className="mx-3"&gt;/&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;span className="cursor-pointer hover:underline font-bold" onClick={() =&gt; onNavigate('legal')}&gt;LEGAL&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div className="text-center text-xs text-gray-700 pb-12"&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>An app from TKTKTK Labs,&lt;br/&gt;a co-operative in Brooklyn, New York.</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">      </span></p>
<p class="p1"><span class="Apple-converted-space">      </span>{showCopyToast &amp;&amp; (</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;div className="fixed bottom-8 left-1/2 transform -translate-x-1/2 bg-black text-white px-6 py-3 font-bold z-50 border-2 border-black"&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>COPIED TO CLIPBOARD!</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">      </span>)}</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">  </span>);</p>
<p class="p1">};</p>
<p class="p2"><br></p>
<p class="p1">const Comrade = () =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">  </span>// Common className constants for repeated patterns</p>
<p class="p1"><span class="Apple-converted-space">  </span>const CLS = {</p>
<p class="p1"><span class="Apple-converted-space">    </span>textXsBlack: "text-xs text-black",</p>
<p class="p1"><span class="Apple-converted-space">    </span>fontBoldBlackUpper: "font-bold text-black uppercase",</p>
<p class="p1"><span class="Apple-converted-space">    </span>border2DashedGray: "border-2 border-dashed border-gray-400",</p>
<p class="p1"><span class="Apple-converted-space">    </span>bgWhiteBorder2Dashed: "bg-white p-8 border-2 border-dashed border-gray-400",</p>
<p class="p1"><span class="Apple-converted-space">    </span>bgWhiteP4Border2: "bg-white p-4 border-2 border-gray-400",</p>
<p class="p1"><span class="Apple-converted-space">    </span>bgWhiteP6Border2: "bg-white p-6 border-2 border-gray-400",</p>
<p class="p1"><span class="Apple-converted-space">    </span>borderDashedGray: "border-b border-dashed border-gray-400",</p>
<p class="p1"><span class="Apple-converted-space">    </span>textBlackFontBold: "text-black font-bold"</p>
<p class="p1"><span class="Apple-converted-space">  </span>};</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">  </span>// Set document title and meta description for link previews</p>
<p class="p1"><span class="Apple-converted-space">  </span>React.useEffect(() =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">    </span>document.title = "COMRADE";</p>
<p class="p2"><span class="Apple-converted-space">    </span></p>
<p class="p1"><span class="Apple-converted-space">    </span>// Update or create meta description</p>
<p class="p1"><span class="Apple-converted-space">    </span>let metaDescription = document.querySelector('meta[name="description"]');</p>
<p class="p1"><span class="Apple-converted-space">    </span>if (!metaDescription) {</p>
<p class="p1"><span class="Apple-converted-space">      </span>metaDescription = document.createElement('meta');</p>
<p class="p1"><span class="Apple-converted-space">      </span>metaDescription.name = 'description';</p>
<p class="p1"><span class="Apple-converted-space">      </span>document.head.appendChild(metaDescription);</p>
<p class="p1"><span class="Apple-converted-space">    </span>}</p>
<p class="p1"><span class="Apple-converted-space">    </span>metaDescription.content = 'The fairer way to split costs with friends.';</p>
<p class="p2"><span class="Apple-converted-space">    </span></p>
<p class="p1"><span class="Apple-converted-space">    </span>// Update Open Graph meta tags for better social sharing</p>
<p class="p1"><span class="Apple-converted-space">    </span>let ogTitle = document.querySelector('meta[property="og:title"]');</p>
<p class="p1"><span class="Apple-converted-space">    </span>if (!ogTitle) {</p>
<p class="p1"><span class="Apple-converted-space">      </span>ogTitle = document.createElement('meta');</p>
<p class="p1"><span class="Apple-converted-space">      </span>ogTitle.setAttribute('property', 'og:title');</p>
<p class="p1"><span class="Apple-converted-space">      </span>document.head.appendChild(ogTitle);</p>
<p class="p1"><span class="Apple-converted-space">    </span>}</p>
<p class="p1"><span class="Apple-converted-space">    </span>ogTitle.content = 'COMRADE';</p>
<p class="p2"><span class="Apple-converted-space">    </span></p>
<p class="p1"><span class="Apple-converted-space">    </span>let ogDescription = document.querySelector('meta[property="og:description"]');</p>
<p class="p1"><span class="Apple-converted-space">    </span>if (!ogDescription) {</p>
<p class="p1"><span class="Apple-converted-space">      </span>ogDescription = document.createElement('meta');</p>
<p class="p1"><span class="Apple-converted-space">      </span>ogDescription.setAttribute('property', 'og:description');</p>
<p class="p1"><span class="Apple-converted-space">      </span>document.head.appendChild(ogDescription);</p>
<p class="p1"><span class="Apple-converted-space">    </span>}</p>
<p class="p1"><span class="Apple-converted-space">    </span>ogDescription.content = 'The fairer way to split costs with friends.';</p>
<p class="p1"><span class="Apple-converted-space">  </span>}, []);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">  </span>// Reusable pie chart for wealth visualization</p>
<p class="p1"><span class="Apple-converted-space">  </span>const renderWealthPieChart = useCallback((data, currencySymbol, formatNumberFn) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">    </span>const sortedData = [...data].sort((a, b) =&gt; b.wealth - a.wealth);</p>
<p class="p1"><span class="Apple-converted-space">    </span>const totalWealth = sortedData.reduce((sum, p) =&gt; sum + p.wealth, 0);</p>
<p class="p1"><span class="Apple-converted-space">    </span>const colors = ['#000000', '#1F2937', '#475569', '#64748B', '#94A3B8', '#CBD5E1', '#E2E8F0', '#F1F5F9'];</p>
<p class="p2"><span class="Apple-converted-space">    </span></p>
<p class="p1"><span class="Apple-converted-space">    </span>return (</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;div className={CLS.bgWhiteP6Border2}&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;svg viewBox="0 0 200 200" className="w-full max-w-xs mx-auto"&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>{(() =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">            </span>let currentAngle = 0;</p>
<p class="p1"><span class="Apple-converted-space">            </span>const cx = 100, cy = 100, radius = 70, innerRadius = 30;</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">            </span>return sortedData.map((p, idx) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">              </span>const percentage = totalWealth &gt; 0 ? (p.wealth / totalWealth) : (1 / sortedData.length);</p>
<p class="p1"><span class="Apple-converted-space">              </span>const angle = percentage * 360;</p>
<p class="p2"><span class="Apple-converted-space">              </span></p>
<p class="p1"><span class="Apple-converted-space">              </span>const startAngle = currentAngle;</p>
<p class="p1"><span class="Apple-converted-space">              </span>const endAngle = currentAngle + angle;</p>
<p class="p2"><span class="Apple-converted-space">              </span></p>
<p class="p1"><span class="Apple-converted-space">              </span>const startAngleRad = (startAngle - 90) * Math.PI / 180;</p>
<p class="p1"><span class="Apple-converted-space">              </span>const endAngleRad = (endAngle - 90) * Math.PI / 180;</p>
<p class="p2"><span class="Apple-converted-space">              </span></p>
<p class="p1"><span class="Apple-converted-space">              </span>const x1 = cx + radius * Math.cos(startAngleRad);</p>
<p class="p1"><span class="Apple-converted-space">              </span>const y1 = cy + radius * Math.sin(startAngleRad);</p>
<p class="p1"><span class="Apple-converted-space">              </span>const x2 = cx + radius * Math.cos(endAngleRad);</p>
<p class="p1"><span class="Apple-converted-space">              </span>const y2 = cy + radius * Math.sin(endAngleRad);</p>
<p class="p2"><span class="Apple-converted-space">              </span></p>
<p class="p1"><span class="Apple-converted-space">              </span>const x3 = cx + innerRadius * Math.cos(endAngleRad);</p>
<p class="p1"><span class="Apple-converted-space">              </span>const y3 = cy + innerRadius * Math.sin(endAngleRad);</p>
<p class="p1"><span class="Apple-converted-space">              </span>const x4 = cx + innerRadius * Math.cos(startAngleRad);</p>
<p class="p1"><span class="Apple-converted-space">              </span>const y4 = cy + innerRadius * Math.sin(startAngleRad);</p>
<p class="p2"><span class="Apple-converted-space">              </span></p>
<p class="p1"><span class="Apple-converted-space">              </span>const largeArc = angle &gt; 180 ? 1 : 0;</p>
<p class="p2"><span class="Apple-converted-space">              </span></p>
<p class="p1"><span class="Apple-converted-space">              </span>const path = `</p>
<p class="p1"><span class="Apple-converted-space">                </span>M ${x1} ${y1}</p>
<p class="p1"><span class="Apple-converted-space">                </span>A ${radius} ${radius} 0 ${largeArc} 1 ${x2} ${y2}</p>
<p class="p1"><span class="Apple-converted-space">                </span>L ${x3} ${y3}</p>
<p class="p1"><span class="Apple-converted-space">                </span>A ${innerRadius} ${innerRadius} 0 ${largeArc} 0 ${x4} ${y4}</p>
<p class="p1"><span class="Apple-converted-space">                </span>Z</p>
<p class="p1"><span class="Apple-converted-space">              </span>`;</p>
<p class="p2"><span class="Apple-converted-space">              </span></p>
<p class="p1"><span class="Apple-converted-space">              </span>currentAngle = endAngle;</p>
<p class="p2"><span class="Apple-converted-space">              </span></p>
<p class="p1"><span class="Apple-converted-space">              </span>return (</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;path</p>
<p class="p1"><span class="Apple-converted-space">                  </span>key={idx}</p>
<p class="p1"><span class="Apple-converted-space">                  </span>d={path}</p>
<p class="p1"><span class="Apple-converted-space">                  </span>fill={colors[idx % colors.length]}</p>
<p class="p1"><span class="Apple-converted-space">                  </span>stroke="white"</p>
<p class="p1"><span class="Apple-converted-space">                  </span>strokeWidth="1"</p>
<p class="p1"><span class="Apple-converted-space">                </span>/&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>);</p>
<p class="p1"><span class="Apple-converted-space">            </span>});</p>
<p class="p1"><span class="Apple-converted-space">          </span>})()}</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;/svg&gt;</p>
<p class="p2"><span class="Apple-converted-space">        </span></p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;div className="mt-6 space-y-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>{sortedData.map((p, idx) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const percentage = totalWealth &gt; 0 ? (p.wealth / totalWealth) * 100 : 100 / sortedData.length;</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">            </span>return (</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;div key={idx} className={`flex items-center gap-3 ${CLS.textXsBlack}`}&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div<span class="Apple-converted-space"> </span></p>
<p class="p1"><span class="Apple-converted-space">                  </span>className="w-4 h-4 border border-gray-400 flex-shrink-0"</p>
<p class="p1"><span class="Apple-converted-space">                  </span>style={{ backgroundColor: colors[idx % colors.length] }}</p>
<p class="p1"><span class="Apple-converted-space">                </span>&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;span className={`${CLS.textBlackFontBold} flex-1`}&gt;{p.name}&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;span className="text-black"&gt;{currencySymbol}{formatNumberFn(p.wealth.toFixed(2))}&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;span className={CLS.textBlackFontBold}&gt;({percentage.toFixed(1)}%)&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>);</p>
<p class="p1"><span class="Apple-converted-space">          </span>})}</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>);</p>
<p class="p1"><span class="Apple-converted-space">  </span>}, [CLS]);</p>
<p class="p2"><span class="Apple-converted-space">  </span></p>
<p class="p1"><span class="Apple-converted-space">  </span>const EXAMPLE_DATA = {</p>
<p class="p1"><span class="Apple-converted-space">    </span>share: {</p>
<p class="p1"><span class="Apple-converted-space">      </span>people: [</p>
<p class="p1"><span class="Apple-converted-space">        </span>{id: 1, name: 'Alex', wealth: '32000'},</p>
<p class="p1"><span class="Apple-converted-space">        </span>{id: 2, name: 'Jordan', wealth: '180000'},</p>
<p class="p1"><span class="Apple-converted-space">        </span>{id: 3, name: 'Sam', wealth: '45000'},</p>
<p class="p1"><span class="Apple-converted-space">        </span>{id: 4, name: 'Morgan', wealth: '95000'}</p>
<p class="p1"><span class="Apple-converted-space">      </span>],</p>
<p class="p1"><span class="Apple-converted-space">      </span>bills: [</p>
<p class="p1"><span class="Apple-converted-space">        </span>{id: 5, description: 'Ski passes', amount: '1200', paidBy: 'Jordan'},</p>
<p class="p1"><span class="Apple-converted-space">        </span>{id: 6, description: 'Cabin rental', amount: '2400', paidBy: 'Morgan'},</p>
<p class="p1"><span class="Apple-converted-space">        </span>{id: 7, description: 'Groceries', amount: '340', paidBy: 'Sam'},</p>
<p class="p1"><span class="Apple-converted-space">        </span>{id: 8, description: 'Gas', amount: '180', paidBy: 'Alex'},</p>
<p class="p1"><span class="Apple-converted-space">        </span>{id: 9, description: 'Gear rental', amount: '520', paidBy: 'Jordan'}</p>
<p class="p1"><span class="Apple-converted-space">      </span>]</p>
<p class="p1"><span class="Apple-converted-space">    </span>},</p>
<p class="p1"><span class="Apple-converted-space">    </span>sale: {</p>
<p class="p1"><span class="Apple-converted-space">      </span>productName: 'Used Honda Civic',</p>
<p class="p1"><span class="Apple-converted-space">      </span>numberAvailable: '1',</p>
<p class="p1"><span class="Apple-converted-space">      </span>buyers: [</p>
<p class="p1"><span class="Apple-converted-space">        </span>{id: 1, name: 'Riley', wealth: '28000', offer: '4800'},</p>
<p class="p1"><span class="Apple-converted-space">        </span>{id: 2, name: 'Casey', wealth: '75000', offer: '5200'},</p>
<p class="p1"><span class="Apple-converted-space">        </span>{id: 3, name: 'Taylor', wealth: '140000', offer: '5500'},</p>
<p class="p1"><span class="Apple-converted-space">        </span>{id: 4, name: 'Drew', wealth: '220000', offer: '6000'}</p>
<p class="p1"><span class="Apple-converted-space">      </span>]</p>
<p class="p1"><span class="Apple-converted-space">    </span>},</p>
<p class="p1"><span class="Apple-converted-space">    </span>vote: {</p>
<p class="p1"><span class="Apple-converted-space">      </span>decision: 'Which vendor for office supplies?',</p>
<p class="p1"><span class="Apple-converted-space">      </span>options: [</p>
<p class="p1"><span class="Apple-converted-space">        </span>{id: 1, text: 'GreenPaper Co'},</p>
<p class="p1"><span class="Apple-converted-space">        </span>{id: 2, text: 'OfficeMax'},</p>
<p class="p1"><span class="Apple-converted-space">        </span>{id: 3, text: 'Staples'},</p>
<p class="p1"><span class="Apple-converted-space">        </span>{id: 4, text: 'Local supplier'}</p>
<p class="p1"><span class="Apple-converted-space">      </span>],</p>
<p class="p1"><span class="Apple-converted-space">      </span>participants: [</p>
<p class="p1"><span class="Apple-converted-space">        </span>{id: 5, name: 'Pat', wealth: '38000', vote: 'Local supplier'},</p>
<p class="p1"><span class="Apple-converted-space">        </span>{id: 6, name: 'Chris', wealth: '165000', vote: 'Staples'},</p>
<p class="p1"><span class="Apple-converted-space">        </span>{id: 7, name: 'Jamie', wealth: '52000', vote: 'Local supplier'},</p>
<p class="p1"><span class="Apple-converted-space">        </span>{id: 8, name: 'Blake', wealth: '45000', vote: 'GreenPaper Co'},</p>
<p class="p1"><span class="Apple-converted-space">        </span>{id: 9, name: 'Dana', wealth: '88000', vote: 'OfficeMax'}</p>
<p class="p1"><span class="Apple-converted-space">      </span>]</p>
<p class="p1"><span class="Apple-converted-space">    </span>},</p>
<p class="p1"><span class="Apple-converted-space">    </span>rent: {</p>
<p class="p1"><span class="Apple-converted-space">      </span>totalRent: '3600',</p>
<p class="p1"><span class="Apple-converted-space">      </span>totalUtilities: '240',</p>
<p class="p1"><span class="Apple-converted-space">      </span>people: [</p>
<p class="p1"><span class="Apple-converted-space">        </span>{id: 1, name: 'River', roomSize: '180', wealth: '42000'},</p>
<p class="p1"><span class="Apple-converted-space">        </span>{id: 2, name: 'Skyler', roomSize: '140', wealth: '125000'},</p>
<p class="p1"><span class="Apple-converted-space">        </span>{id: 3, name: 'Quinn', roomSize: '160', wealth: '68000'}</p>
<p class="p1"><span class="Apple-converted-space">      </span>]</p>
<p class="p1"><span class="Apple-converted-space">    </span>}</p>
<p class="p1"><span class="Apple-converted-space">  </span>};</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">  </span>const BUTTON_STYLES = useMemo(() =&gt; ({</p>
<p class="p1"><span class="Apple-converted-space">    </span>primary: 'bg-black text-white px-6 py-2 font-bold border-2 border-black hover:bg-gray-800 transition-all',</p>
<p class="p1"><span class="Apple-converted-space">    </span>secondary: 'bg-gray-200 text-black px-6 py-2 font-bold border-2 border-gray-400 hover:bg-gray-300 transition-all',</p>
<p class="p1"><span class="Apple-converted-space">    </span>danger: 'bg-white text-black px-6 py-2 font-bold border-2 border-black hover:bg-gray-100 transition-all',</p>
<p class="p1"><span class="Apple-converted-space">    </span>large: 'bg-black text-white px-10 py-4 font-black text-xl border-4 border-black hover:bg-gray-800 transition-all uppercase',</p>
<p class="p1"><span class="Apple-converted-space">    </span>toggle: 'bg-gray-100 text-black px-6 py-3 font-bold border-2 border-solid border-gray-400 hover:bg-gray-200 transition-all'</p>
<p class="p1"><span class="Apple-converted-space">  </span>}), []);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">  </span>const renderNavButtons = useCallback((buttons) =&gt; (</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;div className="flex flex-col sm:flex-row gap-3 justify-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">      </span>{buttons.map(({ label, onClick, variant = 'primary', key }) =&gt; (</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;button<span class="Apple-converted-space"> </span></p>
<p class="p1"><span class="Apple-converted-space">          </span>key={key || label}</p>
<p class="p1"><span class="Apple-converted-space">          </span>onClick={onClick}</p>
<p class="p1"><span class="Apple-converted-space">          </span>className={BUTTON_STYLES[variant]}</p>
<p class="p1"><span class="Apple-converted-space">        </span>&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>{label}</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">      </span>))}</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">  </span>), [BUTTON_STYLES]);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">  </span>const NoDataWarning = useCallback(() =&gt; (</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;div className="bg-white p-6 border-2 border-solid border-black mb-6"&gt;</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;p className="text-black font-bold"&gt;NO DATA ENTERED&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;p className="text-black text-xs mt-1"&gt;Please go back and enter some information.&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">  </span>), []);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">  </span>const DetailToggleButton = useCallback(({ show, onClick }) =&gt; (</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;div className="text-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;button onClick={onClick} className={BUTTON_STYLES.toggle}&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>{show ? '▲ HIDE BREAKDOWN' : '▼ SHOW BREAKDOWN'}</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">  </span>), [BUTTON_STYLES]);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">  </span>const renderResultsNavigation = (copyText, entryPage) =&gt; (</p>
<p class="p1"><span class="Apple-converted-space">    </span>renderNavButtons([</p>
<p class="p1"><span class="Apple-converted-space">      </span>{ label: 'COPY RESULTS', onClick: () =&gt; copyToClipboard(copyText), variant: 'primary' },</p>
<p class="p1"><span class="Apple-converted-space">      </span>{ label: 'EDIT DETAILS', onClick: () =&gt; navigateTo(entryPage), variant: 'primary' },</p>
<p class="p1"><span class="Apple-converted-space">      </span>{ label: 'RETURN HOME', onClick: () =&gt; navigateTo('home'), variant: 'secondary' }</p>
<p class="p1"><span class="Apple-converted-space">    </span>])</p>
<p class="p1"><span class="Apple-converted-space">  </span>);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">  </span>const renderResultsFooter = (hasData, copyText, entryPage) =&gt; hasData &amp;&amp; (</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;&gt;</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;div className="bg-white p-8 border-2 border-dashed border-gray-400"&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>{renderResultsNavigation(copyText, entryPage)}</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">      </span></p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;div className="my-4 text-center py-6"&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;MotivationalQuote /&gt;</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">      </span></p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;div className="mt-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>{renderEmailSignup()}</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;/&gt;</p>
<p class="p1"><span class="Apple-converted-space">  </span>);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">  </span>const renderEntryIntro = ({ title, description, onLoadExample, clearType }) =&gt; (</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;div className={CLS.bgWhiteBorder2Dashed + " mb-4"}&gt;</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;h2 className="text-2xl font-black mb-4 text-black uppercase tracking-wider border-b-4 border-black pb-2"&gt;{title}&lt;/h2&gt;</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;p className={`mb-4 text-black leading-relaxed ${CLS.textXsBlack}`}&gt;{description}&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;p className={`${CLS.textXsBlack} text-center mb-6 text-gray-600 border-t border-b ${CLS.borderDashedGray} py-2`}&gt;THIS APP DOES NOT SAVE ANY FINANCIAL INFORMATION&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;div className="flex flex-wrap justify-center gap-3"&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>{renderNavButtons([</p>
<p class="p1"><span class="Apple-converted-space">          </span>{ label: 'LOAD EXAMPLE', onClick: onLoadExample, variant: 'secondary' },</p>
<p class="p1"><span class="Apple-converted-space">          </span>{ label: 'CLEAR ALL', onClick: () =&gt; handleClearAll(clearType), variant: 'danger' }</p>
<p class="p1"><span class="Apple-converted-space">        </span>])}</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">  </span>);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">  </span>const renderNoDataState = (entryPage) =&gt; (</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;&gt;</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;NoDataWarning /&gt;</p>
<p class="p1"><span class="Apple-converted-space">      </span>{renderNavButtons([</p>
<p class="p1"><span class="Apple-converted-space">        </span>{ label: 'EDIT DETAILS', onClick: () =&gt; navigateTo(entryPage), variant: 'primary' },</p>
<p class="p1"><span class="Apple-converted-space">        </span>{ label: 'RETURN HOME', onClick: () =&gt; navigateTo('home'), variant: 'secondary' }</p>
<p class="p1"><span class="Apple-converted-space">      </span>])}</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;/&gt;</p>
<p class="p1"><span class="Apple-converted-space">  </span>);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">  </span>const renderEmailSignup = () =&gt; (</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;div className={CLS.bgWhiteBorder2Dashed}&gt;</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;h3 className={`text-lg ${CLS.textBlackFontBold} uppercase tracking-wider text-center mb-2`}&gt;LIKE COMRADE?&lt;/h3&gt;</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;p className={`${CLS.textXsBlack} text-center mb-4`}&gt;Get updates and news from the team.&lt;/p&gt;</p>
<p class="p2"><span class="Apple-converted-space">      </span></p>
<p class="p1"><span class="Apple-converted-space">      </span>{signupStatus === 'success' ? (</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;div className="bg-black text-white p-4 text-center font-bold border-2 border-black"&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>THANKS FOR SIGNING UP!</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">      </span>) : signupStatus === 'error' ? (</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;div className="bg-white text-black p-4 text-center font-bold border-2 border-black"&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>ERROR - PLEASE TRY AGAIN</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">      </span>) : (</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;form onSubmit={handleEmailSignup}&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;div className="flex flex-col sm:flex-row gap-2 max-w-md mx-auto"&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;FormInput</p>
<p class="p1"><span class="Apple-converted-space">              </span>type="email"</p>
<p class="p1"><span class="Apple-converted-space">              </span>value={signupEmail}</p>
<p class="p1"><span class="Apple-converted-space">              </span>onChange={(e) =&gt; setSignupEmail(e.target.value)}</p>
<p class="p1"><span class="Apple-converted-space">              </span>placeholder="YOUR EMAIL ADDRESS"</p>
<p class="p1"><span class="Apple-converted-space">              </span>required</p>
<p class="p1"><span class="Apple-converted-space">              </span>className="flex-1"</p>
<p class="p1"><span class="Apple-converted-space">            </span>/&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;button<span class="Apple-converted-space"> </span></p>
<p class="p1"><span class="Apple-converted-space">              </span>type="submit"</p>
<p class="p1"><span class="Apple-converted-space">              </span>className="bg-black text-white px-6 py-2 font-bold border-2 border-black hover:bg-gray-800 transition-all whitespace-nowrap"</p>
<p class="p1"><span class="Apple-converted-space">            </span>&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>+ SIGN UP</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;/form&gt;</p>
<p class="p1"><span class="Apple-converted-space">      </span>)}</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">  </span>);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">  </span>const renderSettingsPanel = (weighting, setWeighting, showSettings, setShowSettings, resultsPage) =&gt; (</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;div className="bg-white p-8 border-2 border-dashed border-gray-400 mb-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">      </span>{!showSettings ? (</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;div className="text-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;button onClick={() =&gt; setShowSettings(true)} className={BUTTON_STYLES.toggle}&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>▼ SHOW SETTINGS</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">      </span>) : (</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;div className="animate-fadeIn"&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;div className="text-center mb-6"&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;button onClick={() =&gt; setShowSettings(false)} className={BUTTON_STYLES.toggle}&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>▲ HIDE SETTINGS</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">          </span></p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;DashedDivider /&gt;</p>
<p class="p2"><span class="Apple-converted-space">          </span></p>
<p class="p1"><span class="Apple-converted-space">          </span>{/* Measurements section (rent page only) */}</p>
<p class="p1"><span class="Apple-converted-space">          </span>{resultsPage === 'rent-results' &amp;&amp; (</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;div className="mb-6"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;h3 className="text-lg font-bold mb-4 text-black uppercase tracking-wider"&gt;MEASUREMENTS&lt;/h3&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;p className="text-xs mb-3 text-black"&gt;Pick what unit room size should be measured in.&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div className="flex justify-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                  </span>&lt;div className="inline-block"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;MeasurementSelector sizeUnit={sizeUnit} setSizeUnit={setSizeUnit} /&gt;</p>
<p class="p1"><span class="Apple-converted-space">                  </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;DashedDivider /&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>)}</p>
<p class="p2"><span class="Apple-converted-space">          </span></p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;div className="mb-6"&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;h3 className="text-lg font-bold mb-4 text-black uppercase tracking-wider"&gt;CURRENCY&lt;/h3&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;p className="text-xs mb-3 text-black"&gt;Choose your preferred currency.&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div className="flex justify-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;div className="inline-block"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;CurrencySelector currency={currency} setCurrency={setCurrency} /&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;DashedDivider /&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;div className="mb-6"&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;h3 className="text-lg font-bold mb-4 text-black uppercase tracking-wider"&gt;WEALTH&lt;/h3&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;p className="text-xs mb-3 text-black"&gt;Select your preferred financial metric of wealth.&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div className="flex justify-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;div className="inline-block"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;WealthTypeSelector wealthType={wealthType} setWealthType={setWealthType} /&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;DashedDivider /&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;h3 className="text-lg font-bold mb-4 text-black uppercase tracking-wider"&gt;WEIGHTING&lt;/h3&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;p className="text-xs mb-3 text-black"&gt;Decide how much wealth should affect Comrade's calculations. (For a detailed explanation of weighting, &lt;span className="underline cursor-pointer hover:text-gray-600" onClick={() =&gt; navigateTo('about')}&gt;read our FAQ&lt;/span&gt;. If in doubt, choose Standard.)&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;WeightingButtons value={weighting} onChange={setWeighting} /&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">          </span></p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;DashedDivider /&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">      </span>)}</p>
<p class="p2"><span class="Apple-converted-space">      </span></p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;div className="text-center mt-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;button onClick={() =&gt; navigateTo(resultsPage)} className={BUTTON_STYLES.large}&gt;CALCULATE&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">  </span>);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">  </span>const renderBarVisualization = (title, data, bars, getItemName) =&gt; (</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;div className="mb-6"&gt;</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;h3 className="text-lg font-bold mb-4 text-black uppercase tracking-wider"&gt;{title}&lt;/h3&gt;</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;div className="space-y-3"&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>{data.map((item, idx) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">          </span>const maxValue = Math.max(...data.map(d =&gt; Math.max(...bars.map(b =&gt; b.getValue(d)))));</p>
<p class="p1"><span class="Apple-converted-space">          </span>return (</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div key={item.id || idx} className="mb-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;p className="font-bold text-black mb-1 text-xs uppercase"&gt;{getItemName(item)}&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;div className="space-y-1"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>{bars.map((bar, barIdx) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                  </span>const value = bar.getValue(item);</p>
<p class="p1"><span class="Apple-converted-space">                  </span>const width = maxValue &gt; 0 ? (value / maxValue) * 100 : 0;</p>
<p class="p1"><span class="Apple-converted-space">                  </span>return (</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div key={barIdx} className="flex items-center gap-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                      </span>{bar.label &amp;&amp; &lt;span className="text-xs text-black w-20 font-bold"&gt;{bar.label}:&lt;/span&gt;}</p>
<p class="p1"><span class="Apple-converted-space">                      </span>&lt;div className="flex-1 bg-gray-200 h-6 relative overflow-hidden border border-gray-400"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div<span class="Apple-converted-space"> </span></p>
<p class="p1"><span class="Apple-converted-space">                          </span>className="h-6 transition-all duration-300 bar-animate flex items-center justify-end pr-2 bg-black"</p>
<p class="p1"><span class="Apple-converted-space">                          </span>style={{</p>
<p class="p1"><span class="Apple-converted-space">                            </span>width: `${width}%`,</p>
<p class="p1"><span class="Apple-converted-space">                            </span>animationDelay: `${idx * 0.1 + barIdx * 0.05}s`</p>
<p class="p1"><span class="Apple-converted-space">                          </span>}}</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&gt;</p>
<p class="p1"><span class="Apple-converted-space">                          </span>{width &gt; 15 &amp;&amp; &lt;span className="text-xs font-bold text-white"&gt;{bar.displayValue(item)}&lt;/span&gt;}</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                      </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                      </span>&lt;span className="text-xs font-bold text-black w-24 text-right"&gt;{bar.rightLabel(item, idx)}&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                  </span>);</p>
<p class="p1"><span class="Apple-converted-space">                </span>})}</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>);</p>
<p class="p1"><span class="Apple-converted-space">        </span>})}</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">  </span>);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">  </span>const renderDistributionList = (title, data, getItemName, getValue, getValueDisplay) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">    </span>const totalValue = data.reduce((sum, item) =&gt; sum + getValue(item), 0);</p>
<p class="p2"><span class="Apple-converted-space">    </span></p>
<p class="p1"><span class="Apple-converted-space">    </span>return (</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;div className="mb-6"&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;h3 className="text-lg font-bold mb-4 text-black uppercase tracking-wider"&gt;{title}&lt;/h3&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;div className="space-y-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>{data.map((item, i) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const value = getValue(item);</p>
<p class="p1"><span class="Apple-converted-space">            </span>const percentage = totalValue &gt; 0 ? (value / totalValue) * 100 : 100 / data.length;</p>
<p class="p1"><span class="Apple-converted-space">            </span>return (</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;div<span class="Apple-converted-space"> </span></p>
<p class="p1"><span class="Apple-converted-space">                </span>key={item.id || i}</p>
<p class="p1"><span class="Apple-converted-space">                </span>className="flex items-center justify-between p-2 border border-gray-300"</p>
<p class="p1"><span class="Apple-converted-space">              </span>&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;span className="text-xs text-black font-bold flex-1"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                  </span>{getItemName(item)}</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;span className="text-xs text-black mx-2"&gt;{getValueDisplay(item)}&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;span className="text-xs text-black font-bold"&gt;{percentage &lt; 0.01 ? percentage.toExponential(2) : percentage.toFixed(1)}%&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>);</p>
<p class="p1"><span class="Apple-converted-space">          </span>})}</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>);</p>
<p class="p1"><span class="Apple-converted-space">  </span>};</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">  </span>const renderEntryButtons = (onLoadExample, onClearAll, resultsPage) =&gt; (</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;div className="text-center space-y-3"&gt;</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;div className="flex flex-wrap justify-center gap-3"&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>{renderNavButtons([</p>
<p class="p1"><span class="Apple-converted-space">          </span>{ label: 'LOAD EXAMPLE', onClick: onLoadExample, variant: 'secondary' },</p>
<p class="p1"><span class="Apple-converted-space">          </span>{ label: 'CLEAR ALL', onClick: onClearAll, variant: 'danger' }</p>
<p class="p1"><span class="Apple-converted-space">        </span>])}</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;button onClick={() =&gt; navigateTo(resultsPage)} className={BUTTON_STYLES.large}&gt;CALCULATE&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">  </span>);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">  </span>const renderStatsRow = (stats) =&gt; (</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;div className="bg-white p-4 border-2 border-solid border-black mb-4 flex flex-wrap justify-around gap-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">      </span>{stats.map(({ label, value }, i) =&gt; (</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;React.Fragment key={label}&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>{i &gt; 0 &amp;&amp; &lt;div className="hidden sm:block w-px bg-gray-400"&gt;&lt;/div&gt;}</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;div className="text-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;p className="text-xs text-gray-600 uppercase tracking-wider"&gt;{label}&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;p className="text-lg font-bold text-black"&gt;{value}&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;/React.Fragment&gt;</p>
<p class="p1"><span class="Apple-converted-space">      </span>))}</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">  </span>);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">  </span>const [page, setPage] = useState('home');</p>
<p class="p1"><span class="Apple-converted-space">  </span>const [currency, setCurrency] = useState('$');</p>
<p class="p1"><span class="Apple-converted-space">  </span>const [wealthType, setWealthType] = useState('salary');</p>
<p class="p1"><span class="Apple-converted-space">  </span>const [sharePeople, setSharePeople] = useState([]);</p>
<p class="p1"><span class="Apple-converted-space">  </span>const [shareBills, setShareBills] = useState([]);</p>
<p class="p1"><span class="Apple-converted-space">  </span>const [currentPersonName, setCurrentPersonName] = useState('');</p>
<p class="p1"><span class="Apple-converted-space">  </span>const [currentPersonWealth, setCurrentPersonWealth] = useState('');</p>
<p class="p1"><span class="Apple-converted-space">  </span>const [currentBillDescription, setCurrentBillDescription] = useState('');</p>
<p class="p1"><span class="Apple-converted-space">  </span>const [currentBillAmount, setCurrentBillAmount] = useState('');</p>
<p class="p1"><span class="Apple-converted-space">  </span>const [currentBillPaidBy, setCurrentBillPaidBy] = useState('');</p>
<p class="p1"><span class="Apple-converted-space">  </span>const [shareWeighting, setShareWeighting] = useState('standard');</p>
<p class="p1"><span class="Apple-converted-space">  </span>const [productName, setProductName] = useState('');</p>
<p class="p1"><span class="Apple-converted-space">  </span>const [numberAvailable, setNumberAvailable] = useState('');</p>
<p class="p1"><span class="Apple-converted-space">  </span>const [saleBuyers, setSaleBuyers] = useState([]);</p>
<p class="p1"><span class="Apple-converted-space">  </span>const [currentBuyerName, setCurrentBuyerName] = useState('');</p>
<p class="p1"><span class="Apple-converted-space">  </span>const [currentBuyerWealth, setCurrentBuyerWealth] = useState('');</p>
<p class="p1"><span class="Apple-converted-space">  </span>const [currentBuyerOffer, setCurrentBuyerOffer] = useState('');</p>
<p class="p1"><span class="Apple-converted-space">  </span>const [saleWeighting, setSaleWeighting] = useState('standard');</p>
<p class="p1"><span class="Apple-converted-space">  </span>const [voteDecision, setVoteDecision] = useState('');</p>
<p class="p1"><span class="Apple-converted-space">  </span>const [voteOptions, setVoteOptions] = useState([]);</p>
<p class="p1"><span class="Apple-converted-space">  </span>const [currentOptionText, setCurrentOptionText] = useState('');</p>
<p class="p1"><span class="Apple-converted-space">  </span>const [voteParticipants, setVoteParticipants] = useState([]);</p>
<p class="p1"><span class="Apple-converted-space">  </span>const [currentParticipantName, setCurrentParticipantName] = useState('');</p>
<p class="p1"><span class="Apple-converted-space">  </span>const [currentParticipantWealth, setCurrentParticipantWealth] = useState('');</p>
<p class="p1"><span class="Apple-converted-space">  </span>const [currentParticipantVote, setCurrentParticipantVote] = useState('');</p>
<p class="p1"><span class="Apple-converted-space">  </span>const [voteWeighting, setVoteWeighting] = useState('standard');</p>
<p class="p1"><span class="Apple-converted-space">  </span>const [totalRent, setTotalRent] = useState('');</p>
<p class="p1"><span class="Apple-converted-space">  </span>const [totalUtilities, setTotalUtilities] = useState('');</p>
<p class="p1"><span class="Apple-converted-space">  </span>const [rentPeople, setRentPeople] = useState([]);</p>
<p class="p1"><span class="Apple-converted-space">  </span>const [currentRoommateName, setCurrentRoommateName] = useState('');</p>
<p class="p1"><span class="Apple-converted-space">  </span>const [currentRoommateRoomSize, setCurrentRoommateRoomSize] = useState('');</p>
<p class="p1"><span class="Apple-converted-space">  </span>const [currentRoommateWealth, setCurrentRoommateWealth] = useState('');</p>
<p class="p1"><span class="Apple-converted-space">  </span>const [rentWeighting, setRentWeighting] = useState('standard');</p>
<p class="p1"><span class="Apple-converted-space">  </span>const [sizeUnit, setSizeUnit] = useState('sqft');</p>
<p class="p1"><span class="Apple-converted-space">  </span>const [showCopyToast, setShowCopyToast] = useState(false);</p>
<p class="p1"><span class="Apple-converted-space">  </span>const [showShareDetails, setShowShareDetails] = useState(false);</p>
<p class="p1"><span class="Apple-converted-space">  </span>const [showVoteDetails, setShowVoteDetails] = useState(false);</p>
<p class="p1"><span class="Apple-converted-space">  </span>const [showSaleDetails, setShowSaleDetails] = useState(false);</p>
<p class="p1"><span class="Apple-converted-space">  </span>const [showRentDetails, setShowRentDetails] = useState(false);</p>
<p class="p1"><span class="Apple-converted-space">  </span>const [randomQuote, setRandomQuote] = useState('');</p>
<p class="p1"><span class="Apple-converted-space">  </span>const [lastQuoteIndex, setLastQuoteIndex] = useState(-1);</p>
<p class="p1"><span class="Apple-converted-space">  </span>const [signupEmail, setSignupEmail] = useState('');</p>
<p class="p1"><span class="Apple-converted-space">  </span>const [signupStatus, setSignupStatus] = useState(''); // '', 'success', 'error'</p>
<p class="p1"><span class="Apple-converted-space">  </span>const [showShareSettings, setShowShareSettings] = useState(false);</p>
<p class="p1"><span class="Apple-converted-space">  </span>const [showSaleSettings, setShowSaleSettings] = useState(false);</p>
<p class="p1"><span class="Apple-converted-space">  </span>const [showVoteSettings, setShowVoteSettings] = useState(false);</p>
<p class="p1"><span class="Apple-converted-space">  </span>const [showRentSettings, setShowRentSettings] = useState(false);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">  </span>const quotes = useMemo(() =&gt; ['FROM EACH ACCORDING TO ABILITY, TO EACH ACCORDING TO NEED', 'THANKS FOR SHARING', 'SHARE AND SHARE ALIKE', 'MANY HANDS MAKE LIGHT WORK', 'ALL FOR ONE AND ONE FOR ALL', 'A RISING TIDE LIFTS ALL BOATS', 'FAIR\'S FAIR', 'LIBERTÉ, ÉGALITÉ, FRATERNITÉ', 'WE\'RE ALL IN THIS TOGETHER', 'WHAT GOES AROUND COMES AROUND', 'NO ONE LEFT BEHIND', 'YOU GET WHAT YOU GIVE', 'WHICH SIDE ARE YOU ON?', 'SHARE THE LOAD', 'BREAD AND ROSES', 'ALL TOGETHER NOW', 'THE COMMON TREASURY', 'WHEN ADAM DELVED AND EVE SPAN, WHO WAS THEN THE GENTLEMAN?', 'E PLURIBUS UNUM', 'WHO BUILT THEBES OF THE SEVEN GATES?', 'SO THE LAST SHALL BE FIRST, AND THE FIRST LAST', 'THE WISDOM OF THE CROWD', 'AND ALL THAT BELIEVED WERE TOGETHER, AND HAD ALL THINGS IN COMMON', 'SALUS POPULI SUPREMA LEX', 'WHAT\'S MINE IS YOURS, AND WHAT IS YOURS IS MINE', 'GIVE US THIS DAY OUR DAILY BREAD', 'NO MAN IS AN ISLAND', 'VIVE LA COMMUNE!', 'FOR WHAT SHALL IT PROFIT A MAN, IF HE SHALL GAIN THE WORLD, AND LOSE HIS OWN SOUL?', 'REND DOWN THE HEDGES', 'AM I MY BROTHER\'S KEEPER?', 'IT TAKES A VILLAGE', 'ONE HAND WASHES THE OTHER'], []);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">  </span>useEffect(() =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">    </span>window.scrollTo({ top: 0, behavior: 'instant' });</p>
<p class="p1"><span class="Apple-converted-space">    </span>setShowShareDetails(false);</p>
<p class="p1"><span class="Apple-converted-space">    </span>setShowVoteDetails(false);</p>
<p class="p1"><span class="Apple-converted-space">    </span>setShowSaleDetails(false);</p>
<p class="p1"><span class="Apple-converted-space">    </span>setShowRentDetails(false);</p>
<p class="p2"><span class="Apple-converted-space">    </span></p>
<p class="p1"><span class="Apple-converted-space">    </span>// Select random quote when navigating to any results page</p>
<p class="p1"><span class="Apple-converted-space">    </span>if (page === 'share-results' || page === 'sale-results' || page === 'vote-results' || page === 'rent-results') {</p>
<p class="p1"><span class="Apple-converted-space">      </span>// Generate random quote directly to avoid dependency issues</p>
<p class="p1"><span class="Apple-converted-space">      </span>setLastQuoteIndex(prev =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">        </span>let newIndex;</p>
<p class="p1"><span class="Apple-converted-space">        </span>do {</p>
<p class="p1"><span class="Apple-converted-space">          </span>newIndex = Math.floor(Math.random() * quotes.length);</p>
<p class="p1"><span class="Apple-converted-space">        </span>} while (newIndex === prev &amp;&amp; quotes.length &gt; 1);</p>
<p class="p2"><span class="Apple-converted-space">        </span></p>
<p class="p1"><span class="Apple-converted-space">        </span>setRandomQuote(quotes[newIndex]);</p>
<p class="p1"><span class="Apple-converted-space">        </span>return newIndex;</p>
<p class="p1"><span class="Apple-converted-space">      </span>});</p>
<p class="p1"><span class="Apple-converted-space">    </span>}</p>
<p class="p1"><span class="Apple-converted-space">  </span>}, [page, quotes]);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">  </span>useEffect(() =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">    </span>if (showCopyToast) {</p>
<p class="p1"><span class="Apple-converted-space">      </span>const timer = setTimeout(() =&gt; setShowCopyToast(false), 2500);</p>
<p class="p1"><span class="Apple-converted-space">      </span>return () =&gt; clearTimeout(timer);</p>
<p class="p1"><span class="Apple-converted-space">    </span>}</p>
<p class="p1"><span class="Apple-converted-space">  </span>}, [showCopyToast]);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">  </span>const formatNumber = useCallback((num) =&gt; num.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ","), []);</p>
<p class="p1"><span class="Apple-converted-space">  </span>const formatSmartNumber = useCallback((num) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">    </span>if (Math.abs(num) &lt; 0.01 &amp;&amp; num !== 0) return num.toExponential(4);</p>
<p class="p1"><span class="Apple-converted-space">    </span>return formatNumber(num.toFixed(2));</p>
<p class="p1"><span class="Apple-converted-space">  </span>}, [formatNumber]);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">  </span>// Currency formatting helpers</p>
<p class="p1"><span class="Apple-converted-space">  </span>const formatCurrency = useCallback((value, decimals = 2) =&gt;<span class="Apple-converted-space"> </span></p>
<p class="p1"><span class="Apple-converted-space">    </span>`${currency}${formatNumber((parseFloat(value) || 0).toFixed(decimals))}`,<span class="Apple-converted-space"> </span></p>
<p class="p1"><span class="Apple-converted-space">    </span>[currency, formatNumber]</p>
<p class="p1"><span class="Apple-converted-space">  </span>);</p>
<p class="p1"><span class="Apple-converted-space">  </span>const formatCurrencySmart = useCallback((value) =&gt;<span class="Apple-converted-space"> </span></p>
<p class="p1"><span class="Apple-converted-space">    </span>`${currency}${formatSmartNumber(value)}`,<span class="Apple-converted-space"> </span></p>
<p class="p1"><span class="Apple-converted-space">    </span>[currency, formatSmartNumber]</p>
<p class="p1"><span class="Apple-converted-space">  </span>);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">  </span>const getWeightingLabel = useCallback((weighting) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">    </span>const labels = { none: 'NONE', gentle: 'LIGHT', standard: 'STANDARD', strong: 'HEAVY' };</p>
<p class="p1"><span class="Apple-converted-space">    </span>return labels[weighting] || 'STANDARD';</p>
<p class="p1"><span class="Apple-converted-space">  </span>}, []);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">  </span>const copyToClipboard = useCallback((text) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">    </span>navigator.clipboard.writeText(text);</p>
<p class="p1"><span class="Apple-converted-space">    </span>setShowCopyToast(true);</p>
<p class="p1"><span class="Apple-converted-space">  </span>}, []);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">  </span>const navigateTo = useCallback((newPage) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">    </span>setPage(newPage);</p>
<p class="p1"><span class="Apple-converted-space">  </span>}, []);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">  </span>const handleClearAll = useCallback((type) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">    </span>switch(type) {</p>
<p class="p1"><span class="Apple-converted-space">      </span>case 'share':</p>
<p class="p1"><span class="Apple-converted-space">        </span>setSharePeople([]);</p>
<p class="p1"><span class="Apple-converted-space">        </span>setShareBills([]);</p>
<p class="p1"><span class="Apple-converted-space">        </span>setCurrentPersonName('');</p>
<p class="p1"><span class="Apple-converted-space">        </span>setCurrentPersonWealth('');</p>
<p class="p1"><span class="Apple-converted-space">        </span>setCurrentBillDescription('');</p>
<p class="p1"><span class="Apple-converted-space">        </span>setCurrentBillAmount('');</p>
<p class="p1"><span class="Apple-converted-space">        </span>setCurrentBillPaidBy('');</p>
<p class="p1"><span class="Apple-converted-space">        </span>break;</p>
<p class="p1"><span class="Apple-converted-space">      </span>case 'sale':</p>
<p class="p1"><span class="Apple-converted-space">        </span>setProductName('');</p>
<p class="p1"><span class="Apple-converted-space">        </span>setNumberAvailable('');</p>
<p class="p1"><span class="Apple-converted-space">        </span>setSaleBuyers([]);</p>
<p class="p1"><span class="Apple-converted-space">        </span>setCurrentBuyerName('');</p>
<p class="p1"><span class="Apple-converted-space">        </span>setCurrentBuyerWealth('');</p>
<p class="p1"><span class="Apple-converted-space">        </span>setCurrentBuyerOffer('');</p>
<p class="p1"><span class="Apple-converted-space">        </span>break;</p>
<p class="p1"><span class="Apple-converted-space">      </span>case 'vote':</p>
<p class="p1"><span class="Apple-converted-space">        </span>setVoteDecision('');</p>
<p class="p1"><span class="Apple-converted-space">        </span>setVoteOptions([]);</p>
<p class="p1"><span class="Apple-converted-space">        </span>setVoteParticipants([]);</p>
<p class="p1"><span class="Apple-converted-space">        </span>setCurrentParticipantName('');</p>
<p class="p1"><span class="Apple-converted-space">        </span>setCurrentParticipantWealth('');</p>
<p class="p1"><span class="Apple-converted-space">        </span>setCurrentParticipantVote('');</p>
<p class="p1"><span class="Apple-converted-space">        </span>setCurrentOptionText('');</p>
<p class="p1"><span class="Apple-converted-space">        </span>break;</p>
<p class="p1"><span class="Apple-converted-space">      </span>case 'rent':</p>
<p class="p1"><span class="Apple-converted-space">        </span>setTotalRent('');</p>
<p class="p1"><span class="Apple-converted-space">        </span>setTotalUtilities('');</p>
<p class="p1"><span class="Apple-converted-space">        </span>setRentPeople([]);</p>
<p class="p1"><span class="Apple-converted-space">        </span>setCurrentRoommateName('');</p>
<p class="p1"><span class="Apple-converted-space">        </span>setCurrentRoommateRoomSize('');</p>
<p class="p1"><span class="Apple-converted-space">        </span>setCurrentRoommateWealth('');</p>
<p class="p1"><span class="Apple-converted-space">        </span>break;</p>
<p class="p1"><span class="Apple-converted-space">    </span>}</p>
<p class="p1"><span class="Apple-converted-space">    </span>setTimeout(() =&gt; window.scrollTo({ top: 0, behavior: 'smooth' }), 0);</p>
<p class="p1"><span class="Apple-converted-space">  </span>}, []);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">  </span>const loadExample = useCallback((type) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">    </span>const data = EXAMPLE_DATA[type];</p>
<p class="p1"><span class="Apple-converted-space">    </span>const baseId = Date.now();</p>
<p class="p2"><span class="Apple-converted-space">    </span></p>
<p class="p1"><span class="Apple-converted-space">    </span>switch(type) {</p>
<p class="p1"><span class="Apple-converted-space">      </span>case 'share':</p>
<p class="p1"><span class="Apple-converted-space">        </span>setSharePeople(data.people.map((p, i) =&gt; ({...p, id: baseId + i})));</p>
<p class="p1"><span class="Apple-converted-space">        </span>setShareBills(data.bills.map((b, i) =&gt; ({...b, id: baseId + 100 + i})));</p>
<p class="p1"><span class="Apple-converted-space">        </span>setCurrentPersonName('');</p>
<p class="p1"><span class="Apple-converted-space">        </span>setCurrentPersonWealth('');</p>
<p class="p1"><span class="Apple-converted-space">        </span>setCurrentBillDescription('');</p>
<p class="p1"><span class="Apple-converted-space">        </span>setCurrentBillAmount('');</p>
<p class="p1"><span class="Apple-converted-space">        </span>setCurrentBillPaidBy('');</p>
<p class="p1"><span class="Apple-converted-space">        </span>break;</p>
<p class="p1"><span class="Apple-converted-space">      </span>case 'sale':</p>
<p class="p1"><span class="Apple-converted-space">        </span>setProductName(data.productName);</p>
<p class="p1"><span class="Apple-converted-space">        </span>setNumberAvailable(data.numberAvailable);</p>
<p class="p1"><span class="Apple-converted-space">        </span>setSaleBuyers(data.buyers.map((b, i) =&gt; ({...b, id: baseId + i})));</p>
<p class="p1"><span class="Apple-converted-space">        </span>setCurrentBuyerName('');</p>
<p class="p1"><span class="Apple-converted-space">        </span>setCurrentBuyerWealth('');</p>
<p class="p1"><span class="Apple-converted-space">        </span>setCurrentBuyerOffer('');</p>
<p class="p1"><span class="Apple-converted-space">        </span>break;</p>
<p class="p1"><span class="Apple-converted-space">      </span>case 'vote':</p>
<p class="p1"><span class="Apple-converted-space">        </span>setVoteDecision(data.decision);</p>
<p class="p1"><span class="Apple-converted-space">        </span>setVoteOptions(data.options.map((o, i) =&gt; ({...o, id: baseId + i})));</p>
<p class="p1"><span class="Apple-converted-space">        </span>setVoteParticipants(data.participants.map((p, i) =&gt; ({...p, id: baseId + 100 + i})));</p>
<p class="p1"><span class="Apple-converted-space">        </span>setCurrentParticipantName('');</p>
<p class="p1"><span class="Apple-converted-space">        </span>setCurrentParticipantWealth('');</p>
<p class="p1"><span class="Apple-converted-space">        </span>setCurrentParticipantVote('');</p>
<p class="p1"><span class="Apple-converted-space">        </span>setCurrentOptionText('');</p>
<p class="p1"><span class="Apple-converted-space">        </span>break;</p>
<p class="p1"><span class="Apple-converted-space">      </span>case 'rent':</p>
<p class="p1"><span class="Apple-converted-space">        </span>setTotalRent(data.totalRent);</p>
<p class="p1"><span class="Apple-converted-space">        </span>setTotalUtilities(data.totalUtilities);</p>
<p class="p1"><span class="Apple-converted-space">        </span>setRentPeople(data.people.map((p, i) =&gt; ({...p, id: baseId + i})));</p>
<p class="p1"><span class="Apple-converted-space">        </span>setCurrentRoommateName('');</p>
<p class="p1"><span class="Apple-converted-space">        </span>setCurrentRoommateRoomSize('');</p>
<p class="p1"><span class="Apple-converted-space">        </span>setCurrentRoommateWealth('');</p>
<p class="p1"><span class="Apple-converted-space">        </span>break;</p>
<p class="p1"><span class="Apple-converted-space">    </span>}</p>
<p class="p1"><span class="Apple-converted-space">    </span>setTimeout(() =&gt; window.scrollTo({ top: 0, behavior: 'smooth' }), 0);</p>
<p class="p1"><span class="Apple-converted-space">  </span>}, [EXAMPLE_DATA]);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">  </span>const handleEmailSignup = useCallback(async (e) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">    </span>e.preventDefault();</p>
<p class="p2"><span class="Apple-converted-space">    </span></p>
<p class="p1"><span class="Apple-converted-space">    </span>// Google Apps Script URL</p>
<p class="p1"><span class="Apple-converted-space">    </span>const SCRIPT_URL = 'https://script.google.com/macros/s/AKfycbxgJDAAOvTIE9Jh3dbYfIu2CBWpUiiwbRuVEPbxRlbGufF1RNL5ZWxen9Noza_eyMHu/exec';</p>
<p class="p2"><span class="Apple-converted-space">    </span></p>
<p class="p1"><span class="Apple-converted-space">    </span>try {</p>
<p class="p1"><span class="Apple-converted-space">      </span>// Use iframe to trigger the request (most reliable for cross-origin)</p>
<p class="p1"><span class="Apple-converted-space">      </span>const iframe = document.createElement('iframe');</p>
<p class="p1"><span class="Apple-converted-space">      </span>iframe.style.display = 'none';</p>
<p class="p1"><span class="Apple-converted-space">      </span>iframe.src = `${SCRIPT_URL}?email=${encodeURIComponent(signupEmail)}`;</p>
<p class="p1"><span class="Apple-converted-space">      </span>document.body.appendChild(iframe);</p>
<p class="p2"><span class="Apple-converted-space">      </span></p>
<p class="p1"><span class="Apple-converted-space">      </span>// Remove iframe after a moment</p>
<p class="p1"><span class="Apple-converted-space">      </span>setTimeout(() =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">        </span>document.body.removeChild(iframe);</p>
<p class="p1"><span class="Apple-converted-space">      </span>}, 2000);</p>
<p class="p2"><span class="Apple-converted-space">      </span></p>
<p class="p1"><span class="Apple-converted-space">      </span>// Show success message</p>
<p class="p1"><span class="Apple-converted-space">      </span>setSignupStatus('success');</p>
<p class="p1"><span class="Apple-converted-space">      </span>setSignupEmail('');</p>
<p class="p2"><span class="Apple-converted-space">      </span></p>
<p class="p1"><span class="Apple-converted-space">      </span>// Reset status after 5 seconds</p>
<p class="p1"><span class="Apple-converted-space">      </span>setTimeout(() =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">        </span>setSignupStatus('');</p>
<p class="p1"><span class="Apple-converted-space">      </span>}, 5000);</p>
<p class="p1"><span class="Apple-converted-space">    </span>} catch (error) {</p>
<p class="p1"><span class="Apple-converted-space">      </span>console.error('Signup error:', error);</p>
<p class="p1"><span class="Apple-converted-space">      </span>setSignupStatus('error');</p>
<p class="p2"><span class="Apple-converted-space">      </span></p>
<p class="p1"><span class="Apple-converted-space">      </span>// Reset error after 5 seconds</p>
<p class="p1"><span class="Apple-converted-space">      </span>setTimeout(() =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">        </span>setSignupStatus('');</p>
<p class="p1"><span class="Apple-converted-space">      </span>}, 5000);</p>
<p class="p1"><span class="Apple-converted-space">    </span>}</p>
<p class="p1"><span class="Apple-converted-space">  </span>}, [signupEmail]);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">  </span>const MotivationalQuote = useCallback(() =&gt; (</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;p className="text-center text-gray-700 leading-relaxed text-xs"&gt;</p>
<p class="p1"><span class="Apple-converted-space">      </span>{randomQuote}</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">  </span>), [randomQuote]);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">  </span>const shareCalculations = useMemo(() =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">    </span>if (page !== 'share-results' || sharePeople.length === 0) return { total: 0, peopleData: [], transactions: [] };</p>
<p class="p2"><span class="Apple-converted-space">    </span></p>
<p class="p1"><span class="Apple-converted-space">    </span>const total = shareBills.reduce((sum, b) =&gt; sum + (parseFloat(b.amount) || 0), 0);</p>
<p class="p2"><span class="Apple-converted-space">    </span></p>
<p class="p1"><span class="Apple-converted-space">    </span>const peopleData = sharePeople.map(person =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">      </span>const wealth = parseFloat(person.wealth) || 0;</p>
<p class="p1"><span class="Apple-converted-space">      </span>const paid = shareBills</p>
<p class="p1"><span class="Apple-converted-space">        </span>.filter(b =&gt; b.paidBy === person.name)</p>
<p class="p1"><span class="Apple-converted-space">        </span>.reduce((sum, b) =&gt; sum + (parseFloat(b.amount) || 0), 0);</p>
<p class="p1"><span class="Apple-converted-space">      </span>const adjustedWealth = applyWeighting(wealth, shareWeighting);</p>
<p class="p2"><span class="Apple-converted-space">      </span></p>
<p class="p1"><span class="Apple-converted-space">      </span>const totalAdjustedWealth = sharePeople.reduce(</p>
<p class="p1"><span class="Apple-converted-space">        </span>(sum, p) =&gt; sum + applyWeighting(parseFloat(p.wealth) || 0, shareWeighting),<span class="Apple-converted-space"> </span></p>
<p class="p1"><span class="Apple-converted-space">        </span>0</p>
<p class="p1"><span class="Apple-converted-space">      </span>);</p>
<p class="p1"><span class="Apple-converted-space">      </span>const fairShare = totalAdjustedWealth &gt; 0<span class="Apple-converted-space"> </span></p>
<p class="p1"><span class="Apple-converted-space">        </span>? (adjustedWealth / totalAdjustedWealth) * total<span class="Apple-converted-space"> </span></p>
<p class="p1"><span class="Apple-converted-space">        </span>: total / sharePeople.length;</p>
<p class="p2"><span class="Apple-converted-space">      </span></p>
<p class="p1"><span class="Apple-converted-space">      </span>return {<span class="Apple-converted-space"> </span></p>
<p class="p1"><span class="Apple-converted-space">        </span>...person,<span class="Apple-converted-space"> </span></p>
<p class="p1"><span class="Apple-converted-space">        </span>wealth,<span class="Apple-converted-space"> </span></p>
<p class="p1"><span class="Apple-converted-space">        </span>paid,<span class="Apple-converted-space"> </span></p>
<p class="p1"><span class="Apple-converted-space">        </span>fairShare,<span class="Apple-converted-space"> </span></p>
<p class="p1"><span class="Apple-converted-space">        </span>adjustedWealth,<span class="Apple-converted-space"> </span></p>
<p class="p1"><span class="Apple-converted-space">        </span>paidPct: total &gt; 0 ? (paid / total) * 100 : 0,<span class="Apple-converted-space"> </span></p>
<p class="p1"><span class="Apple-converted-space">        </span>fairPct: total &gt; 0 ? (fairShare / total) * 100 : 0<span class="Apple-converted-space"> </span></p>
<p class="p1"><span class="Apple-converted-space">      </span>};</p>
<p class="p1"><span class="Apple-converted-space">    </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>const settlements = peopleData</p>
<p class="p1"><span class="Apple-converted-space">      </span>.map(p =&gt; ({name: p.name, balance: p.paid - p.fairShare}))</p>
<p class="p1"><span class="Apple-converted-space">      </span>.filter(s =&gt; Math.abs(s.balance) &gt; 0.01);</p>
<p class="p2"><span class="Apple-converted-space">    </span></p>
<p class="p1"><span class="Apple-converted-space">    </span>const payers = settlements.filter(s =&gt; s.balance &lt; 0).sort((a, b) =&gt; a.balance - b.balance);</p>
<p class="p1"><span class="Apple-converted-space">    </span>const receivers = settlements.filter(s =&gt; s.balance &gt; 0).sort((a, b) =&gt; b.balance - a.balance);</p>
<p class="p2"><span class="Apple-converted-space">    </span></p>
<p class="p1"><span class="Apple-converted-space">    </span>const transactions = [];</p>
<p class="p1"><span class="Apple-converted-space">    </span>let payersIdx = 0, receiversIdx = 0;</p>
<p class="p1"><span class="Apple-converted-space">    </span>const payersCopy = payers.map(p =&gt; ({...p}));</p>
<p class="p1"><span class="Apple-converted-space">    </span>const receiversCopy = receivers.map(r =&gt; ({...r}));</p>
<p class="p2"><span class="Apple-converted-space">    </span></p>
<p class="p1"><span class="Apple-converted-space">    </span>while (payersIdx &lt; payersCopy.length &amp;&amp; receiversIdx &lt; receiversCopy.length) {</p>
<p class="p1"><span class="Apple-converted-space">      </span>const amount = Math.min(-payersCopy[payersIdx].balance, receiversCopy[receiversIdx].balance);</p>
<p class="p1"><span class="Apple-converted-space">      </span>transactions.push({</p>
<p class="p1"><span class="Apple-converted-space">        </span>from: payersCopy[payersIdx].name,<span class="Apple-converted-space"> </span></p>
<p class="p1"><span class="Apple-converted-space">        </span>to: receiversCopy[receiversIdx].name,<span class="Apple-converted-space"> </span></p>
<p class="p1"><span class="Apple-converted-space">        </span>amount</p>
<p class="p1"><span class="Apple-converted-space">      </span>});</p>
<p class="p1"><span class="Apple-converted-space">      </span>payersCopy[payersIdx].balance += amount;</p>
<p class="p1"><span class="Apple-converted-space">      </span>receiversCopy[receiversIdx].balance -= amount;</p>
<p class="p1"><span class="Apple-converted-space">      </span>if (Math.abs(payersCopy[payersIdx].balance) &lt; 0.01) payersIdx++;</p>
<p class="p1"><span class="Apple-converted-space">      </span>if (Math.abs(receiversCopy[receiversIdx].balance) &lt; 0.01) receiversIdx++;</p>
<p class="p1"><span class="Apple-converted-space">    </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>return { total, peopleData, transactions };</p>
<p class="p1"><span class="Apple-converted-space">  </span>}, [sharePeople, shareBills, shareWeighting, page]);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">  </span>const saleCalculations = useMemo(() =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">    </span>if (page !== 'sale-results' || saleBuyers.length === 0) return { rankedBuyers: [], totalOffers: 0, avgOffer: 0 };</p>
<p class="p2"><span class="Apple-converted-space">    </span></p>
<p class="p1"><span class="Apple-converted-space">    </span>const rankedBuyers = saleBuyers.map(buyer =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">      </span>const wealth = parseFloat(buyer.wealth) || 1;</p>
<p class="p1"><span class="Apple-converted-space">      </span>const offer = parseFloat(buyer.offer) || 0;</p>
<p class="p1"><span class="Apple-converted-space">      </span>const adjustedWealth = applyWeighting(wealth, saleWeighting);</p>
<p class="p1"><span class="Apple-converted-space">      </span>const needScore = (offer / adjustedWealth) * 100;</p>
<p class="p1"><span class="Apple-converted-space">      </span>return { ...buyer, wealth, offer, needScore, adjustedWealth };</p>
<p class="p1"><span class="Apple-converted-space">    </span>}).sort((a, b) =&gt; b.needScore - a.needScore);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>const totalOffers = rankedBuyers.reduce((sum, b) =&gt; sum + b.offer, 0);</p>
<p class="p1"><span class="Apple-converted-space">    </span>const avgOffer = rankedBuyers.length &gt; 0 ? totalOffers / rankedBuyers.length : 0;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>return { rankedBuyers, totalOffers, avgOffer };</p>
<p class="p1"><span class="Apple-converted-space">  </span>}, [saleBuyers, saleWeighting, page]);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">  </span>const voteCalculations = useMemo(() =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">    </span>if (page !== 'vote-results' || voteParticipants.length === 0) return { participantsData: [], totalVotingPower: 0, voteBreakdown: [], options: [] };</p>
<p class="p2"><span class="Apple-converted-space">    </span></p>
<p class="p1"><span class="Apple-converted-space">    </span>const options = voteOptions.map(o =&gt; o.text);</p>
<p class="p1"><span class="Apple-converted-space">    </span>const totalWealth = voteParticipants.reduce((sum, p) =&gt; sum + (parseFloat(p.wealth) || 0), 0);</p>
<p class="p1"><span class="Apple-converted-space">    </span>const avgWealth = totalWealth / voteParticipants.length;</p>
<p class="p2"><span class="Apple-converted-space">    </span></p>
<p class="p1"><span class="Apple-converted-space">    </span>const participantsData = voteParticipants.map(p =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">      </span>const wealth = parseFloat(p.wealth) || 0;</p>
<p class="p1"><span class="Apple-converted-space">      </span>const adjustedWealth = applyWeighting(wealth, voteWeighting);</p>
<p class="p1"><span class="Apple-converted-space">      </span>const votingPower = adjustedWealth &gt; 0 ? avgWealth / adjustedWealth : 1;</p>
<p class="p1"><span class="Apple-converted-space">      </span>return { ...p, wealth, votingPower, adjustedWealth };</p>
<p class="p1"><span class="Apple-converted-space">    </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>const totalVotingPower = participantsData.reduce((sum, p) =&gt; sum + p.votingPower, 0);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>const voteBreakdown = options.map(option =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">      </span>const optionPower = participantsData</p>
<p class="p1"><span class="Apple-converted-space">        </span>.filter(p =&gt; p.vote === option)</p>
<p class="p1"><span class="Apple-converted-space">        </span>.reduce((sum, p) =&gt; sum + p.votingPower, 0);</p>
<p class="p1"><span class="Apple-converted-space">      </span>const percentage = totalVotingPower &gt; 0 ? (optionPower / totalVotingPower) * 100 : 0;</p>
<p class="p1"><span class="Apple-converted-space">      </span>const voters = participantsData.filter(p =&gt; p.vote === option);</p>
<p class="p1"><span class="Apple-converted-space">      </span>return { option, percentage, voters };</p>
<p class="p1"><span class="Apple-converted-space">    </span>}).sort((a, b) =&gt; b.percentage - a.percentage);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>return { participantsData, totalVotingPower, voteBreakdown, options };</p>
<p class="p1"><span class="Apple-converted-space">  </span>}, [voteParticipants, voteOptions, voteWeighting, page]);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">  </span>const rentCalculations = useMemo(() =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">    </span>if (page !== 'rent-results' || rentPeople.length === 0) return { rentAmount: 0, utilitiesAmount: 0, total: 0, totalRoomSize: 0, rentData: [], avgRent: 0, totalRoomValue: 0 };</p>
<p class="p2"><span class="Apple-converted-space">    </span></p>
<p class="p1"><span class="Apple-converted-space">    </span>const rentAmount = parseFloat(totalRent) || 0;</p>
<p class="p1"><span class="Apple-converted-space">    </span>const utilitiesAmount = parseFloat(totalUtilities) || 0;</p>
<p class="p1"><span class="Apple-converted-space">    </span>const total = rentAmount + utilitiesAmount;</p>
<p class="p1"><span class="Apple-converted-space">    </span>const totalRoomSize = rentPeople.reduce((sum, p) =&gt; sum + (parseFloat(p.roomSize) || 0), 0);</p>
<p class="p2"><span class="Apple-converted-space">    </span></p>
<p class="p1"><span class="Apple-converted-space">    </span>const peopleData = rentPeople.map(person =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">      </span>const roomSize = parseFloat(person.roomSize) || 0;</p>
<p class="p1"><span class="Apple-converted-space">      </span>const wealth = parseFloat(person.wealth) || 0;</p>
<p class="p1"><span class="Apple-converted-space">      </span>const roomPct = totalRoomSize &gt; 0 ? (roomSize / totalRoomSize) * 100 : 0;</p>
<p class="p1"><span class="Apple-converted-space">      </span>const adjustedWealth = applyWeighting(wealth, rentWeighting);</p>
<p class="p1"><span class="Apple-converted-space">      </span>const roomValue = roomPct * adjustedWealth;</p>
<p class="p2"><span class="Apple-converted-space">      </span></p>
<p class="p1"><span class="Apple-converted-space">      </span>return { ...person, roomSize, wealth, roomPct, adjustedWealth, roomValue };</p>
<p class="p1"><span class="Apple-converted-space">    </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>const totalRoomValue = peopleData.reduce((sum, p) =&gt; sum + p.roomValue, 0);</p>
<p class="p2"><span class="Apple-converted-space">    </span></p>
<p class="p1"><span class="Apple-converted-space">    </span>const rentData = peopleData.map(p =&gt; ({</p>
<p class="p1"><span class="Apple-converted-space">      </span>...p,</p>
<p class="p1"><span class="Apple-converted-space">      </span>fairRent: totalRoomValue &gt; 0 ? (p.roomValue / totalRoomValue) * total : total / rentPeople.length,</p>
<p class="p1"><span class="Apple-converted-space">      </span>rentPct: totalRoomValue &gt; 0 ? (p.roomValue / totalRoomValue) * 100 : 100 / rentPeople.length</p>
<p class="p1"><span class="Apple-converted-space">    </span>})).sort((a, b) =&gt; b.fairRent - a.fairRent);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>const avgRent = rentData.length &gt; 0 ? total / rentData.length : 0;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>return { rentAmount, utilitiesAmount, total, totalRoomSize, rentData, avgRent, totalRoomValue };</p>
<p class="p1"><span class="Apple-converted-space">  </span>}, [rentPeople, totalRent, totalUtilities, rentWeighting, page]);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">  </span>if (page === 'home') {</p>
<p class="p1"><span class="Apple-converted-space">    </span>return (</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;Layout onNavigate={navigateTo} showCopyToast={showCopyToast}&gt;</p>
<p class="p1"><span class="Apple-converted-space">                  </span>&lt;div className="bg-white p-8 border-2 border-dashed border-gray-400 mb-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;p className="text-center text-sm mb-4 text-black leading-relaxed font-bold"&gt;THE FAIRER WAY TO SPLIT COSTS WITH FRIENDS.&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;p className="text-center text-sm mb-4 text-black leading-relaxed"&gt;COMRADE USES WEALTH DATA TO HANDLE SHARED BILLS. ENTER YOUR GROUP'S EXPENSES, AND SALARIES OR NET WORTH, AND WE'LL SHOW YOU WHO OWES WHAT.&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;div className="space-y-4 max-w-md mx-auto"&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;button onClick={() =&gt; navigateTo('share-entry')} className="w-full bg-black text-white font-bold py-4 px-6 border-2 border-black hover:bg-gray-800 transition-all text-xl"&gt;GET STARTED&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">        </span></p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;div className="bg-white p-8 border-2 border-dashed border-gray-400 mb-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;div className="max-w-md mx-auto"&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;p className="text-center text-xs font-bold text-gray-600 mb-3 uppercase tracking-wider"&gt;ADDITIONAL TOOLS&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div className="space-y-3"&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;button onClick={() =&gt; navigateTo('sale-entry')} className="w-full bg-white text-black font-bold py-4 px-6 border-2 border-black hover:bg-gray-100 transition-all"&gt;SELLING SOMETHING?&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;button onClick={() =&gt; navigateTo('rent-entry')} className="w-full bg-white text-black font-bold py-4 px-6 border-2 border-black hover:bg-gray-100 transition-all"&gt;RENTING AN APARTMENT?&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;div className="mt-8 pt-6 border-t-2 border-dashed border-gray-400 max-w-md mx-auto"&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;p className="text-center text-xs font-bold text-gray-600 mb-3 uppercase tracking-wider"&gt;EXPERIMENTAL&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;button onClick={() =&gt; navigateTo('vote-entry')} className="w-full bg-gray-200 text-black font-bold py-4 px-6 border-2 border-gray-400 hover:bg-gray-300 transition-all"&gt;VOTING ON A DECISION?&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;/Layout&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>);</p>
<p class="p1"><span class="Apple-converted-space">  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">  </span>if (page === 'about') {</p>
<p class="p1"><span class="Apple-converted-space">    </span>return (</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;Layout onNavigate={navigateTo} showCopyToast={showCopyToast}&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>{/* About section */}</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;div className="bg-white p-8 border-2 border-dashed border-gray-400 mb-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;h2 className="text-2xl font-black mb-4 text-black uppercase tracking-wider border-b-4 border-black pb-2"&gt;ABOUT&lt;/h2&gt;</p>
<p class="p2"><span class="Apple-converted-space">          </span></p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;div className="space-y-4 text-black"&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;p className="leading-relaxed text-xs"&gt;Make fairer decisions with wealth data.&lt;/p&gt;</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;p className="leading-relaxed text-xs"&gt;Comrade is an app for handling shared expenses — holidays, household purchases, work dinners, or anything else. It aggregates and simplifies bills, to make it easy to figure out who owes who what. And it divides them fairly, by taking into account people's wealth — whether that's salary or net worth —<span class="Apple-converted-space">  </span>to decide the split.&lt;/p&gt;</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;p className="leading-relaxed text-xs"&gt;So next time your friends, family, or coworkers have group bills, handle them a better way with Comrade.&lt;/p&gt;</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;p className="leading-relaxed text-xs"&gt;Comrade also offers other features. We have a tool to help decide rent splits in apartments more fairly, and another to assist when selling an item to ensure the buyer is the person who values it most highly. And we have an experimental tool for voting on decisions.&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>{/* Email sign-up box */}</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;div className="mb-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>{renderEmailSignup()}</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>{/* FAQ box */}</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;div className="bg-white p-8 border-2 border-dashed border-gray-400"&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;h2 className="text-2xl font-black mb-4 text-black uppercase tracking-wider border-b-4 border-black pb-2"&gt;FAQ&lt;/h2&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;div className="space-y-6 text-black"&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;h3 className="font-bold mb-2 text-sm uppercase tracking-wider"&gt;HOW DOES THIS WORK?&lt;/h3&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;p className="leading-relaxed text-xs"&gt;Comrade uses wealth data to decide how much each person should pay. It combines all the bills and the amounts already paid, then looks at each person's wealth in relation to others in the group to establish what proportion of the total amount each person should actually be responsible for.&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;div className="border-t border-dashed border-gray-400 mt-4"&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;h3 className="font-bold mb-2 text-sm uppercase tracking-wider"&gt;WHAT IS "WEIGHTING"?&lt;/h3&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;p className="leading-relaxed text-xs mb-2"&gt;Weighting is the level of emphasis placed on each user's relative wealth (salary/net worth). By default, each person's responsibility is directly correlated with their wealth.&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;p className="leading-relaxed text-xs mb-2"&gt;For example, let's say Fred and George each paid $100 on shared bills. Fred earns $50,000 a year, while George brings in $100,000. Under a standard weighting, because George makes twice as much money as Fred, he should pay twice as much. So far, he only paid 50% — $100 — meaning he owes Fred another $33.33.&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;p className="leading-relaxed text-xs mb-2"&gt;In settings, you can also select "heavy" weighting, which emphasizes wealth differences even more by using squared wealth values for calculations; or "light" weighting, which uses square-root values for more gentle adjustments. There is also an option to forego weighting entirely.&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;p className="leading-relaxed text-xs"&gt;Comrade's other tools — for rent-splitting, selling, and voting — use people's wealth to weigh their inputs in a similar way.&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;div className="border-t border-dashed border-gray-400 mt-4"&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;h3 className="font-bold mb-2 text-sm uppercase tracking-wider"&gt;WHAT DO YOU DO WITH MY FINANCIAL INFORMATION?&lt;/h3&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;p className="leading-relaxed text-xs"&gt;Nothing.&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;div className="border-t border-dashed border-gray-400 mt-4"&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;h3 className="font-bold mb-2 text-sm uppercase tracking-wider"&gt;NOTHING?&lt;/h3&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;p className="leading-relaxed text-xs mb-2"&gt;Nothing. All calculations are performed on the user's device. Comrade does not receive or save user data.&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;p className="leading-relaxed text-xs"&gt;If a user signs up for email updates, their email is shared with Comrade only, and is not associated with any financial data. (Because, again, their financial data is never saved.)&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;div className="border-t border-dashed border-gray-400 mt-4"&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;h3 className="font-bold mb-2 text-sm uppercase tracking-wider"&gt;WHO BUILT THIS?&lt;/h3&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;p className="leading-relaxed text-xs"&gt;Comrade is an app from TKTKTK Labs, a co-operative in Brooklyn, New York. &lt;span className="underline cursor-pointer hover:text-gray-600" onClick={() =&gt; navigateTo('contact')}&gt;Get in touch.&lt;/span&gt;&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;div className="border-t border-dashed border-gray-400 mt-4"&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;h3 className="font-bold mb-2 text-sm uppercase tracking-wider"&gt;IT'S AWKWARD ASKING MY FRIENDS HOW MUCH MONEY THEY HAVE. WHAT SHOULD I DO?&lt;/h3&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;p className="leading-relaxed text-xs"&gt;Do it anyway. &lt;a href="https://www.hbs.edu/ris/Publication%20Files/23-039_f20d86a0-a1cf-4bd6-8066-74ccc6f2c3cf.pdf" target="_blank" rel="noopener noreferrer" className="underline hover:text-gray-600"&gt;Studies&lt;/a&gt; have found &lt;a href="https://www.nytimes.com/interactive/2020/02/19/magazine/salary-sharing.html" target="_blank" rel="noopener noreferrer" className="underline hover:text-gray-600"&gt;breaking&lt;/a&gt; the &lt;a href="https://www.businessinsider.com/salary-pay-transparency-jobs-income-taboo-equity-2023-1" target="_blank" rel="noopener noreferrer" className="underline hover:text-gray-600"&gt;taboos&lt;/a&gt; around sharing information about wealth makes society better.&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;div className="border-t border-dashed border-gray-400 mt-4"&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;h3 className="font-bold mb-2 text-sm uppercase tracking-wider"&gt;IS THIS SERIOUS?&lt;/h3&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;p className="leading-relaxed text-xs"&gt;What do you think?&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;/Layout&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>);</p>
<p class="p1"><span class="Apple-converted-space">  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">  </span>if (page === 'contact') {</p>
<p class="p1"><span class="Apple-converted-space">    </span>return (</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;Layout onNavigate={navigateTo} showCopyToast={showCopyToast}&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;div className="bg-white p-8 border-2 border-dashed border-gray-400"&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;h2 className="text-2xl font-black mb-4 text-black uppercase tracking-wider border-b-4 border-black pb-2"&gt;CONTACT&lt;/h2&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;p className="leading-relaxed text-xs text-black"&gt;Got questions? Technical issues? Want to throw money at this rocket-ship startup? Contact Rob Price at &lt;a href="mailto:robaeprice@gmail.com" className="underline hover:text-gray-600"&gt;robaeprice@gmail.com&lt;/a&gt;&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;/Layout&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>);</p>
<p class="p1"><span class="Apple-converted-space">  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">  </span>if (page === 'legal') {</p>
<p class="p1"><span class="Apple-converted-space">    </span>return (</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;Layout onNavigate={navigateTo} showCopyToast={showCopyToast}&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;div className="bg-white p-8 border-2 border-dashed border-gray-400"&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;h2 className="text-2xl font-black mb-4 text-black uppercase tracking-wider border-b-4 border-black pb-2"&gt;LEGAL&lt;/h2&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;div className="text-black space-y-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;p className="leading-relaxed text-xs"&gt;Comrade does not collect, store, or transmit any financial information or personal data entered into the application. All calculations are performed locally in your browser.&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div className="border-t border-dashed border-gray-400"&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;p className="leading-relaxed text-xs"&gt;This application is provided for informational purposes only. Users are solely responsible for their own actions. The creators of Comrade, including TKTKTK Labs, are not liable for any outcomes, disputes, consequences, or bad decisions resulting from the use of this Comrade and its calculations. Sorry!&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div className="border-t border-dashed border-gray-400"&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;p className="leading-relaxed text-xs"&gt;By entering your email address, you consent to Comrade and its team contacting you about updates to the app, news, other projects they may be working on, and other cool stuff. Comrade will not sell your personal information to third parties.&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div className="border-t border-dashed border-gray-400"&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;p className="leading-relaxed text-xs"&gt;This application is available under a Creative Commons Attribution-NonCommercial 4.0 International License (CC BY-NC 4.0).&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;/Layout&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>);</p>
<p class="p1"><span class="Apple-converted-space">  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">  </span>if (page === 'share-entry') {</p>
<p class="p1"><span class="Apple-converted-space">    </span>return (</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;Layout onNavigate={navigateTo} showCopyToast={showCopyToast}&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>{renderEntryIntro({</p>
<p class="p1"><span class="Apple-converted-space">          </span>title: 'BILL-SPLITTING',</p>
<p class="p1"><span class="Apple-converted-space">          </span>description: 'From meals to vacations, taxis to tickets, handle your shared expenses with friends more fairly. Comrade combines and simplifies group bills, while using information about group members\' finances to decide how much everyone should pay.',</p>
<p class="p1"><span class="Apple-converted-space">          </span>onLoadExample: () =&gt; loadExample('share'),</p>
<p class="p1"><span class="Apple-converted-space">          </span>clearType: 'share'</p>
<p class="p1"><span class="Apple-converted-space">        </span>})}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>{/* Box 2: People and Bills */}</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;div className="bg-white p-8 border-2 border-dashed border-gray-400 mb-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;div className="mb-6"&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;h3 className="text-lg font-bold mb-4 text-black uppercase tracking-wider"&gt;PEOPLE&lt;/h3&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;p className="text-xs mb-3 text-black"&gt;List the people splitting the costs, including their financial resources.&lt;/p&gt;</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;AddItemCard</p>
<p class="p1"><span class="Apple-converted-space">              </span>title=""</p>
<p class="p1"><span class="Apple-converted-space">              </span>containerClassName=""</p>
<p class="p1"><span class="Apple-converted-space">              </span>fields={[</p>
<p class="p1"><span class="Apple-converted-space">              </span>{</p>
<p class="p1"><span class="Apple-converted-space">                </span>value: currentPersonName,</p>
<p class="p1"><span class="Apple-converted-space">                </span>onChange: (e) =&gt; setCurrentPersonName(e.target.value),</p>
<p class="p1"><span class="Apple-converted-space">                </span>placeholder: "NAME",</p>
<p class="p1"><span class="Apple-converted-space">                </span>minWidth: '140px'</p>
<p class="p1"><span class="Apple-converted-space">              </span>},</p>
<p class="p1"><span class="Apple-converted-space">              </span>{</p>
<p class="p1"><span class="Apple-converted-space">                </span>value: currentPersonWealth,</p>
<p class="p1"><span class="Apple-converted-space">                </span>onChange: (e) =&gt; setCurrentPersonWealth(e.target.value),</p>
<p class="p1"><span class="Apple-converted-space">                </span>placeholder: `${currency} ${wealthType === 'salary' ? 'SALARY' : 'NET WORTH'}`,</p>
<p class="p1"><span class="Apple-converted-space">                </span>type: 'number',</p>
<p class="p1"><span class="Apple-converted-space">                </span>min: '0',</p>
<p class="p1"><span class="Apple-converted-space">                </span>step: '0.01',</p>
<p class="p1"><span class="Apple-converted-space">                </span>inputMode: 'decimal',</p>
<p class="p1"><span class="Apple-converted-space">                </span>minWidth: '180px'</p>
<p class="p1"><span class="Apple-converted-space">              </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>]}</p>
<p class="p1"><span class="Apple-converted-space">            </span>onAdd={() =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">              </span>if (currentPersonName.trim()) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>setSharePeople([...sharePeople, {</p>
<p class="p1"><span class="Apple-converted-space">                  </span>id: Date.now(),</p>
<p class="p1"><span class="Apple-converted-space">                  </span>name: currentPersonName,</p>
<p class="p1"><span class="Apple-converted-space">                  </span>wealth: currentPersonWealth</p>
<p class="p1"><span class="Apple-converted-space">                </span>}]);</p>
<p class="p1"><span class="Apple-converted-space">                </span>setCurrentPersonName('');</p>
<p class="p1"><span class="Apple-converted-space">                </span>setCurrentPersonWealth('');</p>
<p class="p1"><span class="Apple-converted-space">              </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>}}</p>
<p class="p1"><span class="Apple-converted-space">            </span>items={sharePeople}</p>
<p class="p1"><span class="Apple-converted-space">            </span>onDelete={(id) =&gt; setSharePeople(sharePeople.filter(p =&gt; p.id !== id))}</p>
<p class="p1"><span class="Apple-converted-space">            </span>renderItem={(person) =&gt; (</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;p className={`${CLS.textXsBlack} ${CLS.fontBoldBlackUpper}`}&gt;{person.name}&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;p className={CLS.textXsBlack}&gt;{wealthType === 'salary' ? 'Salary' : 'Net worth'}: {formatCurrency(person.wealth)}&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;/&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>)}</p>
<p class="p1"><span class="Apple-converted-space">            </span>addButtonLabel="+ ADD PERSON"</p>
<p class="p1"><span class="Apple-converted-space">            </span>/&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;div className="border-t-2 border-dashed border-gray-400 my-6"&gt;&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;h3 className="text-lg font-bold mb-4 text-black uppercase tracking-wider"&gt;BILLS&lt;/h3&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;p className="text-xs mb-3 text-black"&gt;Add all the expenses the group is splitting, along with who already paid for what.&lt;/p&gt;</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;AddItemCard</p>
<p class="p1"><span class="Apple-converted-space">              </span>title=""</p>
<p class="p1"><span class="Apple-converted-space">              </span>containerClassName=""</p>
<p class="p1"><span class="Apple-converted-space">              </span>fields={[</p>
<p class="p1"><span class="Apple-converted-space">              </span>{</p>
<p class="p1"><span class="Apple-converted-space">                </span>value: currentBillDescription,</p>
<p class="p1"><span class="Apple-converted-space">                </span>onChange: (e) =&gt; setCurrentBillDescription(e.target.value),</p>
<p class="p1"><span class="Apple-converted-space">                </span>placeholder: "DESCRIPTION",</p>
<p class="p1"><span class="Apple-converted-space">                </span>minWidth: '150px'</p>
<p class="p1"><span class="Apple-converted-space">              </span>},</p>
<p class="p1"><span class="Apple-converted-space">              </span>{</p>
<p class="p1"><span class="Apple-converted-space">                </span>value: currentBillAmount,</p>
<p class="p1"><span class="Apple-converted-space">                </span>onChange: (e) =&gt; setCurrentBillAmount(e.target.value),</p>
<p class="p1"><span class="Apple-converted-space">                </span>placeholder: `${currency} AMOUNT`,</p>
<p class="p1"><span class="Apple-converted-space">                </span>type: 'number',</p>
<p class="p1"><span class="Apple-converted-space">                </span>min: '0',</p>
<p class="p1"><span class="Apple-converted-space">                </span>step: '0.01',</p>
<p class="p1"><span class="Apple-converted-space">                </span>inputMode: 'decimal',</p>
<p class="p1"><span class="Apple-converted-space">                </span>minWidth: '150px'</p>
<p class="p1"><span class="Apple-converted-space">              </span>},</p>
<p class="p1"><span class="Apple-converted-space">              </span>{</p>
<p class="p1"><span class="Apple-converted-space">                </span>type: 'select',</p>
<p class="p1"><span class="Apple-converted-space">                </span>value: currentBillPaidBy,</p>
<p class="p1"><span class="Apple-converted-space">                </span>onChange: (e) =&gt; setCurrentBillPaidBy(e.target.value),</p>
<p class="p1"><span class="Apple-converted-space">                </span>placeholder: "WHO PAID?",</p>
<p class="p1"><span class="Apple-converted-space">                </span>options: sharePeople.map(p =&gt; ({ value: p.name, label: p.name })),</p>
<p class="p1"><span class="Apple-converted-space">                </span>minWidth: '150px'</p>
<p class="p1"><span class="Apple-converted-space">              </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>]}</p>
<p class="p1"><span class="Apple-converted-space">            </span>onAdd={() =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">              </span>if (currentBillDescription.trim()) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>setShareBills([...shareBills, {</p>
<p class="p1"><span class="Apple-converted-space">                  </span>id: Date.now(),</p>
<p class="p1"><span class="Apple-converted-space">                  </span>description: currentBillDescription,</p>
<p class="p1"><span class="Apple-converted-space">                  </span>amount: currentBillAmount,</p>
<p class="p1"><span class="Apple-converted-space">                  </span>paidBy: currentBillPaidBy</p>
<p class="p1"><span class="Apple-converted-space">                </span>}]);</p>
<p class="p1"><span class="Apple-converted-space">                </span>setCurrentBillDescription('');</p>
<p class="p1"><span class="Apple-converted-space">                </span>setCurrentBillAmount('');</p>
<p class="p1"><span class="Apple-converted-space">                </span>setCurrentBillPaidBy('');</p>
<p class="p1"><span class="Apple-converted-space">              </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>}}</p>
<p class="p1"><span class="Apple-converted-space">            </span>items={shareBills}</p>
<p class="p1"><span class="Apple-converted-space">            </span>onDelete={(id) =&gt; setShareBills(shareBills.filter(b =&gt; b.id !== id))}</p>
<p class="p1"><span class="Apple-converted-space">            </span>renderItem={(bill) =&gt; (</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;p className={`${CLS.textXsBlack} ${CLS.fontBoldBlackUpper}`}&gt;{bill.description}&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;p className={CLS.textXsBlack}&gt;{bill.paidBy || 'Unknown'} paid: {formatCurrency(bill.amount)}&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;/&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>)}</p>
<p class="p1"><span class="Apple-converted-space">            </span>addButtonLabel="+ ADD BILL"</p>
<p class="p1"><span class="Apple-converted-space">            </span>/&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>{/* Box 3: Settings */}</p>
<p class="p1"><span class="Apple-converted-space">        </span>{renderSettingsPanel(shareWeighting, setShareWeighting, showShareSettings, setShowShareSettings, 'share-results')}</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;/Layout&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>);</p>
<p class="p1"><span class="Apple-converted-space">  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">  </span>if (page === 'share-results') {</p>
<p class="p1"><span class="Apple-converted-space">    </span>const { total, peopleData, transactions } = shareCalculations;</p>
<p class="p1"><span class="Apple-converted-space">    </span>const hasData = sharePeople.length &gt; 0 &amp;&amp; shareBills.length &gt; 0 &amp;&amp; shareBills.some(b =&gt; parseFloat(b.amount) &gt; 0);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>return (</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;Layout onNavigate={navigateTo} showCopyToast={showCopyToast}&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;div className="bg-white p-8 border-2 border-dashed border-gray-400 mb-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;h2 className="text-2xl font-black mb-6 text-black uppercase tracking-wider border-b-4 border-black pb-2"&gt;BILL-SPLITTING RESULTS&lt;/h2&gt;</p>
<p class="p2"><span class="Apple-converted-space">          </span></p>
<p class="p1"><span class="Apple-converted-space">          </span>{!hasData &amp;&amp; renderNoDataState('share-entry')}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">          </span>{hasData &amp;&amp; (</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;div className="bg-black text-white p-8 mb-4 border-4 border-black"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;h3 className="text-2xl font-black mb-4 uppercase tracking-wider border-b-2 border-white pb-2"&gt;YOUR SETTLEMENT&lt;/h3&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>{transactions.length === 0 ? (</p>
<p class="p1"><span class="Apple-converted-space">                  </span>&lt;p className="text-lg font-bold"&gt;ALL SETTLED! EVERYONE'S SQUARE.&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>) : (</p>
<p class="p1"><span class="Apple-converted-space">                  </span>&lt;div className="space-y-3"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>{transactions.map((t, i) =&gt; (</p>
<p class="p1"><span class="Apple-converted-space">                      </span>&lt;div key={i} className="text-sm leading-relaxed border-b border-dashed border-white pb-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;span className="font-semibold"&gt;{t.from.toUpperCase()}&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;span&gt; PAYS &lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;span className="font-semibold"&gt;{t.to.toUpperCase()}&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;br/&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;span className="font-black text-2xl"&gt;{formatCurrencySmart(t.amount)}&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                      </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>))}</p>
<p class="p1"><span class="Apple-converted-space">                  </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>)}</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;p className="text-xs mt-4 border-t-2 border-dashed border-white pt-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                  </span>{transactions.length} TRANSACTION{transactions.length !== 1 ? 'S' : ''} TO SETTLE {formatCurrency(total)}</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">              </span>{renderStatsRow([</p>
<p class="p1"><span class="Apple-converted-space">                </span>{ label: 'TOTAL BILLS', value: shareBills.length },</p>
<p class="p1"><span class="Apple-converted-space">                </span>{ label: 'TOTAL AMOUNT', value: formatCurrency(total) },</p>
<p class="p1"><span class="Apple-converted-space">                </span>{ label: 'PEOPLE', value: sharePeople.length },</p>
<p class="p1"><span class="Apple-converted-space">                </span>{ label: 'WEIGHTING', value: getWeightingLabel(shareWeighting) }</p>
<p class="p1"><span class="Apple-converted-space">              </span>])}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;DetailToggleButton show={showShareDetails} onClick={() =&gt; setShowShareDetails(!showShareDetails)} /&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">              </span>{showShareDetails &amp;&amp; (</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div className="animate-fadeIn"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                  </span>&lt;DashedDivider /&gt;</p>
<p class="p2"><span class="Apple-converted-space">                  </span></p>
<p class="p1"><span class="Apple-converted-space">                  </span>&lt;div className="mb-6"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;h3 className="text-lg font-bold mb-4 text-black uppercase tracking-wider"&gt;PARTICIPANT DATA&lt;/h3&gt;</p>
<p class="p2"><span class="Apple-converted-space">                    </span></p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div className="space-y-3"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                      </span>{[...peopleData].sort((a, b) =&gt; b.wealth - a.wealth).map((p, idx) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>const balance = p.paid - p.fairShare;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>const colorClass = balance &gt; 0.01 ? 'text-black' : balance &lt; -0.01 ? 'text-black' : 'text-gray-600';</p>
<p class="p2"><span class="Apple-converted-space">                        </span></p>
<p class="p1"><span class="Apple-converted-space">                        </span>return (</p>
<p class="p1"><span class="Apple-converted-space">                          </span>&lt;div key={p.id || idx} className={CLS.bgWhiteP4Border2}&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;p className={`font-bold text-sm text-black mb-3 uppercase ${CLS.borderDashedGray} pb-2`}&gt;</p>
<p class="p1"><span class="Apple-converted-space">                              </span>{p.name}</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div className={`space-y-2 ${CLS.textXsBlack}`}&gt;</p>
<p class="p1"><span class="Apple-converted-space">                              </span>&lt;div className="flex justify-between"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;span className={CLS.textBlackFontBold}&gt;WEALTH:&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;span className="font-semibold text-black"&gt;{formatCurrency(p.wealth)}&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                              </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                              </span>&lt;div className="flex justify-between"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;span className={CLS.textBlackFontBold}&gt;PAID:&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;span className="font-semibold text-black"&gt;{formatCurrency(p.paid)} ({p.paidPct.toFixed(1)}%)&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                              </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                              </span>&lt;div className="flex justify-between"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;span className={CLS.textBlackFontBold}&gt;FAIR SHARE:&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;span className="font-semibold text-black"&gt;{formatCurrencySmart(p.fairShare)} ({p.fairPct.toFixed(1)}%)&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                              </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                              </span>&lt;div className={`flex justify-between pt-2 border-t ${CLS.borderDashedGray}`}&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;span className={CLS.textBlackFontBold}&gt;BALANCE:&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;span className={`font-black ${colorClass}`}&gt;{balance &gt; 0.01 ? '+' : ''}{formatCurrencySmart(balance)}&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                              </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                          </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>);</p>
<p class="p1"><span class="Apple-converted-space">                      </span>})}</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                  </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                  </span>&lt;DashedDivider /&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                  </span>&lt;div className="mb-6"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;h3 className="text-lg font-bold mb-4 text-black uppercase tracking-wider"&gt;BILL RECAP&lt;/h3&gt;</p>
<p class="p2"><span class="Apple-converted-space">                    </span></p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div className={CLS.bgWhiteP6Border2}&gt;</p>
<p class="p1"><span class="Apple-converted-space">                      </span>&lt;div className="space-y-3 mb-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>{shareBills.map((bill, idx) =&gt; (</p>
<p class="p1"><span class="Apple-converted-space">                          </span>&lt;div key={bill.id || idx} className={`flex justify-between items-start ${CLS.textXsBlack} border-b ${CLS.borderDashedGray} pb-2`}&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div className="flex-1"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                              </span>&lt;p className={`${CLS.textBlackFontBold} uppercase`}&gt;{bill.description}&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                              </span>&lt;p className={`text-black ${CLS.textXsBlack}`}&gt;{bill.paidBy || 'Unknown'}&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;span className={`${CLS.textBlackFontBold} ml-4`}&gt;{formatCurrency(bill.amount)}&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                          </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>))}</p>
<p class="p1"><span class="Apple-converted-space">                      </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                      </span>&lt;div className="flex justify-between items-center pt-3 border-t-2 border-black"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;span className="font-black text-black uppercase"&gt;TOTAL&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;span className="font-black text-black text-lg"&gt;{formatCurrency(total)}&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                      </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                  </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                  </span>&lt;DashedDivider /&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                  </span>&lt;div className="mb-6"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;h3 className="text-lg font-bold mb-4 text-black uppercase tracking-wider"&gt;WEALTH VISUALIZATION&lt;/h3&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>{renderWealthPieChart(peopleData, currency, formatNumber)}</p>
<p class="p1"><span class="Apple-converted-space">                  </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                  </span>&lt;DashedDivider /&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                  </span>{renderBarVisualization(</p>
<p class="p1"><span class="Apple-converted-space">                    </span>'PAYMENT VISUALIZATION',</p>
<p class="p1"><span class="Apple-converted-space">                    </span>[...peopleData].sort((a, b) =&gt; b.wealth - a.wealth),</p>
<p class="p1"><span class="Apple-converted-space">                    </span>[</p>
<p class="p1"><span class="Apple-converted-space">                      </span>{</p>
<p class="p1"><span class="Apple-converted-space">                        </span>label: 'PAID',</p>
<p class="p1"><span class="Apple-converted-space">                        </span>getValue: (p) =&gt; p.paid,</p>
<p class="p1"><span class="Apple-converted-space">                        </span>displayValue: (p) =&gt; `${p.paidPct.toFixed(0)}%`,</p>
<p class="p1"><span class="Apple-converted-space">                        </span>rightLabel: (p) =&gt; formatCurrency(p.paid)</p>
<p class="p1"><span class="Apple-converted-space">                      </span>},</p>
<p class="p1"><span class="Apple-converted-space">                      </span>{</p>
<p class="p1"><span class="Apple-converted-space">                        </span>label: 'FAIR',</p>
<p class="p1"><span class="Apple-converted-space">                        </span>getValue: (p) =&gt; p.fairShare,</p>
<p class="p1"><span class="Apple-converted-space">                        </span>displayValue: (p) =&gt; `${p.fairPct.toFixed(0)}%`,</p>
<p class="p1"><span class="Apple-converted-space">                        </span>rightLabel: (p) =&gt; formatCurrencySmart(p.fairShare)</p>
<p class="p1"><span class="Apple-converted-space">                      </span>}</p>
<p class="p1"><span class="Apple-converted-space">                    </span>],</p>
<p class="p1"><span class="Apple-converted-space">                    </span>(p) =&gt; p.name</p>
<p class="p1"><span class="Apple-converted-space">                  </span>)}</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>)}</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>)}</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>{renderResultsFooter(</p>
<p class="p1"><span class="Apple-converted-space">          </span>hasData,</p>
<p class="p1"><span class="Apple-converted-space">          </span>`Bill-splitting Results\n\nTotal: ${formatCurrency(total)}\nWeighting: ${getWeightingLabel(shareWeighting)}\n\nBreakdown:\n${peopleData.map(p =&gt; `${p.name}: Paid ${formatCurrency(p.paid)}, Fair share ${formatCurrencySmart(p.fairShare)}`).join('\n')}\n\nSettlements:\n${transactions.length === 0 ? 'All settled!' : transactions.map(t =&gt; `${t.from} pays ${t.to} ${formatCurrencySmart(t.amount)}`).join('\n')}`,</p>
<p class="p1"><span class="Apple-converted-space">          </span>'share-entry'</p>
<p class="p1"><span class="Apple-converted-space">        </span>)}</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;/Layout&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>);</p>
<p class="p1"><span class="Apple-converted-space">  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">  </span>if (page === 'sale-entry') {</p>
<p class="p1"><span class="Apple-converted-space">    </span>return (</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;Layout onNavigate={navigateTo} showCopyToast={showCopyToast}&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>{renderEntryIntro({</p>
<p class="p1"><span class="Apple-converted-space">          </span>title: 'SELLING',</p>
<p class="p1"><span class="Apple-converted-space">          </span>description: 'If you\'re selling something, make sure it goes to the potential buyer who needs it the most — not just whoever offers to pay the most. Comrade takes into account prospective purchasers\' financial resources to help you understand how much your product is truly worth to them.',</p>
<p class="p1"><span class="Apple-converted-space">          </span>onLoadExample: () =&gt; loadExample('sale'),</p>
<p class="p1"><span class="Apple-converted-space">          </span>clearType: 'sale'</p>
<p class="p1"><span class="Apple-converted-space">        </span>})}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>{/* Box 2: Product Info and Potential Buyers */}</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;div className="bg-white p-8 border-2 border-dashed border-gray-400 mb-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;div className="mb-6"&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;h3 className="text-lg font-bold mb-4 text-black uppercase tracking-wider"&gt;PRODUCT DETAILS&lt;/h3&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;p className="text-xs mb-3 text-black"&gt;List what you're selling, and how many items are available.&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;FormInput</p>
<p class="p1"><span class="Apple-converted-space">              </span>value={productName}</p>
<p class="p1"><span class="Apple-converted-space">              </span>onChange={(e) =&gt; setProductName(e.target.value)}</p>
<p class="p1"><span class="Apple-converted-space">              </span>placeholder="PRODUCT NAME"</p>
<p class="p1"><span class="Apple-converted-space">              </span>className="mb-3"</p>
<p class="p1"><span class="Apple-converted-space">            </span>/&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;FormInput</p>
<p class="p1"><span class="Apple-converted-space">              </span>type="number"</p>
<p class="p1"><span class="Apple-converted-space">              </span>value={numberAvailable}</p>
<p class="p1"><span class="Apple-converted-space">              </span>onChange={(e) =&gt; setNumberAvailable(e.target.value)}</p>
<p class="p1"><span class="Apple-converted-space">              </span>placeholder="NUMBER AVAILABLE"</p>
<p class="p1"><span class="Apple-converted-space">              </span>min="1"</p>
<p class="p1"><span class="Apple-converted-space">              </span>step="1"</p>
<p class="p1"><span class="Apple-converted-space">              </span>inputMode="numeric"</p>
<p class="p1"><span class="Apple-converted-space">            </span>/&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;div className="border-t-2 border-dashed border-gray-400 my-6"&gt;&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;h3 className="text-lg font-bold mb-4 text-black uppercase tracking-wider"&gt;POTENTIAL BUYERS&lt;/h3&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;p className="text-xs mb-3 text-black"&gt;Add all the people interested in buying, along with their financial information.&lt;/p&gt;</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;AddItemCard</p>
<p class="p1"><span class="Apple-converted-space">              </span>title=""</p>
<p class="p1"><span class="Apple-converted-space">              </span>containerClassName=""</p>
<p class="p1"><span class="Apple-converted-space">              </span>fields={[</p>
<p class="p1"><span class="Apple-converted-space">              </span>{</p>
<p class="p1"><span class="Apple-converted-space">                </span>value: currentBuyerName,</p>
<p class="p1"><span class="Apple-converted-space">                </span>onChange: (e) =&gt; setCurrentBuyerName(e.target.value),</p>
<p class="p1"><span class="Apple-converted-space">                </span>placeholder: "NAME",</p>
<p class="p1"><span class="Apple-converted-space">                </span>minWidth: '120px'</p>
<p class="p1"><span class="Apple-converted-space">              </span>},</p>
<p class="p1"><span class="Apple-converted-space">              </span>{</p>
<p class="p1"><span class="Apple-converted-space">                </span>value: currentBuyerWealth,</p>
<p class="p1"><span class="Apple-converted-space">                </span>onChange: (e) =&gt; setCurrentBuyerWealth(e.target.value),</p>
<p class="p1"><span class="Apple-converted-space">                </span>placeholder: `${currency} ${wealthType === 'salary' ? 'SALARY' : 'NET WORTH'}`,</p>
<p class="p1"><span class="Apple-converted-space">                </span>type: 'number',</p>
<p class="p1"><span class="Apple-converted-space">                </span>min: '0',</p>
<p class="p1"><span class="Apple-converted-space">                </span>step: '0.01',</p>
<p class="p1"><span class="Apple-converted-space">                </span>inputMode: 'decimal',</p>
<p class="p1"><span class="Apple-converted-space">                </span>minWidth: '150px'</p>
<p class="p1"><span class="Apple-converted-space">              </span>},</p>
<p class="p1"><span class="Apple-converted-space">              </span>{</p>
<p class="p1"><span class="Apple-converted-space">                </span>value: currentBuyerOffer,</p>
<p class="p1"><span class="Apple-converted-space">                </span>onChange: (e) =&gt; setCurrentBuyerOffer(e.target.value),</p>
<p class="p1"><span class="Apple-converted-space">                </span>placeholder: `${currency} OFFER`,</p>
<p class="p1"><span class="Apple-converted-space">                </span>type: 'number',</p>
<p class="p1"><span class="Apple-converted-space">                </span>min: '0',</p>
<p class="p1"><span class="Apple-converted-space">                </span>step: '0.01',</p>
<p class="p1"><span class="Apple-converted-space">                </span>inputMode: 'decimal',</p>
<p class="p1"><span class="Apple-converted-space">                </span>minWidth: '120px'</p>
<p class="p1"><span class="Apple-converted-space">              </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>]}</p>
<p class="p1"><span class="Apple-converted-space">            </span>onAdd={() =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">              </span>if (currentBuyerName.trim()) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>setSaleBuyers([...saleBuyers, {</p>
<p class="p1"><span class="Apple-converted-space">                  </span>id: Date.now(),</p>
<p class="p1"><span class="Apple-converted-space">                  </span>name: currentBuyerName,</p>
<p class="p1"><span class="Apple-converted-space">                  </span>wealth: currentBuyerWealth,</p>
<p class="p1"><span class="Apple-converted-space">                  </span>offer: currentBuyerOffer</p>
<p class="p1"><span class="Apple-converted-space">                </span>}]);</p>
<p class="p1"><span class="Apple-converted-space">                </span>setCurrentBuyerName('');</p>
<p class="p1"><span class="Apple-converted-space">                </span>setCurrentBuyerWealth('');</p>
<p class="p1"><span class="Apple-converted-space">                </span>setCurrentBuyerOffer('');</p>
<p class="p1"><span class="Apple-converted-space">              </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>}}</p>
<p class="p1"><span class="Apple-converted-space">            </span>items={saleBuyers}</p>
<p class="p1"><span class="Apple-converted-space">            </span>onDelete={(id) =&gt; setSaleBuyers(saleBuyers.filter(b =&gt; b.id !== id))}</p>
<p class="p1"><span class="Apple-converted-space">            </span>renderItem={(buyer) =&gt; (</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;p className={`${CLS.textXsBlack} ${CLS.fontBoldBlackUpper}`}&gt;{buyer.name}&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;p className={CLS.textXsBlack}&gt;{wealthType === 'salary' ? 'Salary' : 'Net worth'}: {formatCurrency(buyer.wealth)}&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;p className={CLS.textXsBlack}&gt;Offer: {formatCurrency(buyer.offer)}&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;/&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>)}</p>
<p class="p1"><span class="Apple-converted-space">            </span>addButtonLabel="+ ADD BUYER"</p>
<p class="p1"><span class="Apple-converted-space">            </span>/&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>{/* Box 3: Settings */}</p>
<p class="p1"><span class="Apple-converted-space">        </span>{renderSettingsPanel(saleWeighting, setSaleWeighting, showSaleSettings, setShowSaleSettings, 'sale-results')}</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;/Layout&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>);</p>
<p class="p1"><span class="Apple-converted-space">  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">  </span>if (page === 'sale-results') {</p>
<p class="p1"><span class="Apple-converted-space">    </span>const { rankedBuyers, totalOffers, avgOffer } = saleCalculations;</p>
<p class="p1"><span class="Apple-converted-space">    </span>const numAvailable = parseInt(numberAvailable) || 1;</p>
<p class="p1"><span class="Apple-converted-space">    </span>const winners = rankedBuyers.slice(0, numAvailable);</p>
<p class="p1"><span class="Apple-converted-space">    </span>const hasData = saleBuyers.length &gt; 0 &amp;&amp; productName.trim();</p>
<p class="p1"><span class="Apple-converted-space">    </span>const isPerfectTie = hasData &amp;&amp; rankedBuyers.length &gt; 1 &amp;&amp; rankedBuyers[0].needScore === rankedBuyers[1].needScore &amp;&amp; rankedBuyers[0].needScore &gt; 0;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>return (</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;Layout onNavigate={navigateTo} showCopyToast={showCopyToast}&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;div className="bg-white p-8 border-2 border-dashed border-gray-400 mb-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;h2 className="text-2xl font-black mb-6 text-black uppercase tracking-wider border-b-4 border-black pb-2"&gt;SELLING RESULTS&lt;/h2&gt;</p>
<p class="p2"><span class="Apple-converted-space">          </span></p>
<p class="p1"><span class="Apple-converted-space">          </span>{!hasData &amp;&amp; renderNoDataState('sale-entry')}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">          </span>{hasData &amp;&amp; (</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;div className="bg-black text-white p-8 mb-4 border-4 border-black"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;h3 className="text-2xl font-black mb-4 uppercase tracking-wider border-b-2 border-white pb-2"&gt;SELECTED BUYER{winners.length &gt; 1 ? 'S' : ''}&lt;/h3&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>{isPerfectTie ? (</p>
<p class="p1"><span class="Apple-converted-space">                  </span>&lt;p className="text-lg font-bold"&gt;PERFECT TIE. EVERYONE HAS EQUAL CLAIM.&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>) : (</p>
<p class="p1"><span class="Apple-converted-space">                  </span>&lt;&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>{winners.map((winner, i) =&gt; (</p>
<p class="p1"><span class="Apple-converted-space">                      </span>&lt;div key={winner.id} className="mb-3 border-b border-dashed border-white pb-3"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;p className="text-3xl font-black mb-2"&gt;{winner.name.toUpperCase()}&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;p className="text-xl font-semibold"&gt;OFFER: {formatCurrency(winner.offer)}&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;p className={CLS.textXsBlack}&gt;NEED SCORE: {winner.needScore &lt; 0.01 ? winner.needScore.toExponential(4) : winner.needScore.toFixed(2)}%&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                      </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>))}</p>
<p class="p1"><span class="Apple-converted-space">                  </span>&lt;/&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>)}</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;p className="text-xs mt-4 border-t-2 border-dashed border-white pt-2"&gt;PRODUCT: {productName.toUpperCase() || 'UNNAMED'}&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">              </span>{renderStatsRow([</p>
<p class="p1"><span class="Apple-converted-space">                </span>{ label: 'PRODUCT', value: productName.toUpperCase() || 'N/A' },</p>
<p class="p1"><span class="Apple-converted-space">                </span>{ label: 'AVAILABLE', value: numAvailable },</p>
<p class="p1"><span class="Apple-converted-space">                </span>{ label: 'AVG OFFER', value: formatCurrency(avgOffer) },</p>
<p class="p1"><span class="Apple-converted-space">                </span>{ label: 'WEIGHTING', value: getWeightingLabel(saleWeighting) }</p>
<p class="p1"><span class="Apple-converted-space">              </span>])}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;DetailToggleButton show={showSaleDetails} onClick={() =&gt; setShowSaleDetails(!showSaleDetails)} /&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">              </span>{showSaleDetails &amp;&amp; (</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div className="animate-fadeIn"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                  </span>&lt;div className="border-t-2 border-dashed border-gray-400 my-6"&gt;&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">                  </span></p>
<p class="p1"><span class="Apple-converted-space">                  </span>&lt;div className="mb-6"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;h3 className="text-lg font-bold mb-4 text-black uppercase tracking-wider"&gt;BUYER DATA&lt;/h3&gt;</p>
<p class="p2"><span class="Apple-converted-space">                    </span></p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div className="space-y-3"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                      </span>{rankedBuyers.map((buyer, i) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>const isWinner = i &lt; numAvailable;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>return (</p>
<p class="p1"><span class="Apple-converted-space">                          </span>&lt;div key={buyer.id || i} className={`p-4 border-2 ${isWinner ? 'border-black bg-gray-100' : 'border-gray-400 bg-white'}`}&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div className={`flex justify-between items-start mb-3 border-b ${CLS.borderDashedGray} pb-2`}&gt;</p>
<p class="p1"><span class="Apple-converted-space">                              </span>&lt;p className={`font-bold text-sm text-black uppercase`}&gt;#{i + 1} {buyer.name}&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                              </span>&lt;span className={`px-2 py-1 ${CLS.textXsBlack} font-bold border ${isWinner ? 'bg-black text-white border-black' : 'bg-white text-black border-black'}`}&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>{isWinner ? 'SELECTED' : 'NOT SELECTED'}</p>
<p class="p1"><span class="Apple-converted-space">                              </span>&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div className={`space-y-2 ${CLS.textXsBlack}`}&gt;</p>
<p class="p1"><span class="Apple-converted-space">                              </span>&lt;div className="flex justify-between"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;span className={CLS.textBlackFontBold}&gt;WEALTH:&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;span className="font-semibold text-black"&gt;{formatCurrency(buyer.wealth)}&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                              </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                              </span>&lt;div className="flex justify-between"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;span className={CLS.textBlackFontBold}&gt;OFFER:&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;span className="font-semibold text-black"&gt;{formatCurrency(buyer.offer)}&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                              </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                              </span>&lt;div className={`flex justify-between pt-2 border-t ${CLS.borderDashedGray}`}&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;span className={CLS.textBlackFontBold}&gt;NEED SCORE:&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;span className="font-black text-black"&gt;{buyer.needScore &lt; 0.01 ? buyer.needScore.toExponential(4) : buyer.needScore.toFixed(2)}%&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                              </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                          </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>);</p>
<p class="p1"><span class="Apple-converted-space">                      </span>})}</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                  </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                  </span>&lt;div className="border-t-2 border-dashed border-gray-400 my-6"&gt;&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                  </span>{renderBarVisualization(</p>
<p class="p1"><span class="Apple-converted-space">                    </span>'NEED SCORE VISUALIZATION',</p>
<p class="p1"><span class="Apple-converted-space">                    </span>rankedBuyers,</p>
<p class="p1"><span class="Apple-converted-space">                    </span>[</p>
<p class="p1"><span class="Apple-converted-space">                      </span>{</p>
<p class="p1"><span class="Apple-converted-space">                        </span>getValue: (b) =&gt; b.needScore,</p>
<p class="p1"><span class="Apple-converted-space">                        </span>displayValue: (b) =&gt; `${b.needScore &lt; 0.01 ? b.needScore.toExponential(2) : b.needScore.toFixed(1)}%`,</p>
<p class="p1"><span class="Apple-converted-space">                        </span>rightLabel: (b, idx) =&gt; `#${idx + 1}`</p>
<p class="p1"><span class="Apple-converted-space">                      </span>}</p>
<p class="p1"><span class="Apple-converted-space">                    </span>],</p>
<p class="p1"><span class="Apple-converted-space">                    </span>(b) =&gt; b.name</p>
<p class="p1"><span class="Apple-converted-space">                  </span>)}</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>)}</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>)}</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>{renderResultsFooter(</p>
<p class="p1"><span class="Apple-converted-space">          </span>hasData,</p>
<p class="p1"><span class="Apple-converted-space">          </span>`Selling Results\n\nProduct: ${productName || 'Unnamed product'}\nQuantity: ${numAvailable}\nWeighting: ${getWeightingLabel(saleWeighting)}\n\nSelected buyer${winners.length &gt; 1 ? 's' : ''}:\n${winners.map(w =&gt; `${w.name} - ${formatCurrency(w.offer)}`).join('\n')}\n\nAll buyers ranked by need:\n${rankedBuyers.map((b, i) =&gt; `${i + 1}. ${b.name} - Offer: ${formatCurrency(b.offer)}, Need score: ${b.needScore &lt; 0.01 ? b.needScore.toExponential(4) : b.needScore.toFixed(4)}%`).join('\n')}`,</p>
<p class="p1"><span class="Apple-converted-space">          </span>'sale-entry'</p>
<p class="p1"><span class="Apple-converted-space">        </span>)}</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;/Layout&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>);</p>
<p class="p1"><span class="Apple-converted-space">  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">  </span>if (page === 'vote-entry') {</p>
<p class="p1"><span class="Apple-converted-space">    </span>return (</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;Layout onNavigate={navigateTo} showCopyToast={showCopyToast}&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>{renderEntryIntro({</p>
<p class="p1"><span class="Apple-converted-space">          </span>title: 'VOTING',</p>
<p class="p1"><span class="Apple-converted-space">          </span>description: 'Make group decisions more equitably. If your friends, classmates, or coworkers are grappling with a dispute, give more voting power to those with less wealth.',</p>
<p class="p1"><span class="Apple-converted-space">          </span>onLoadExample: () =&gt; loadExample('vote'),</p>
<p class="p1"><span class="Apple-converted-space">          </span>clearType: 'vote'</p>
<p class="p1"><span class="Apple-converted-space">        </span>})}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>{/* Box 2: Decision, Options, and Participants */}</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;div className="bg-white p-8 border-2 border-dashed border-gray-400 mb-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;div className="mb-6"&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;h3 className="text-lg font-bold mb-4 text-black uppercase tracking-wider"&gt;DECISION&lt;/h3&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;p className="text-xs mb-3 text-black"&gt;Enter the question the group is voting on.&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;FormInput</p>
<p class="p1"><span class="Apple-converted-space">              </span>value={voteDecision}</p>
<p class="p1"><span class="Apple-converted-space">              </span>onChange={(e) =&gt; setVoteDecision(e.target.value)}</p>
<p class="p1"><span class="Apple-converted-space">              </span>placeholder="DECISION TO BE MADE"</p>
<p class="p1"><span class="Apple-converted-space">            </span>/&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;div className="border-t-2 border-dashed border-gray-400 my-6"&gt;&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;div className="mb-6"&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;h3 className="text-lg font-bold mb-4 text-black uppercase tracking-wider"&gt;OPTIONS&lt;/h3&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;p className="text-xs mb-3 text-black"&gt;Add all the possible choices people can vote for.&lt;/p&gt;</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;AddItemCard</p>
<p class="p1"><span class="Apple-converted-space">              </span>title=""</p>
<p class="p1"><span class="Apple-converted-space">              </span>containerClassName=""</p>
<p class="p1"><span class="Apple-converted-space">              </span>fields={[</p>
<p class="p1"><span class="Apple-converted-space">              </span>{</p>
<p class="p1"><span class="Apple-converted-space">                </span>value: currentOptionText,</p>
<p class="p1"><span class="Apple-converted-space">                </span>onChange: (e) =&gt; setCurrentOptionText(e.target.value),</p>
<p class="p1"><span class="Apple-converted-space">                </span>placeholder: "OPTION TEXT",</p>
<p class="p1"><span class="Apple-converted-space">                </span>minWidth: '200px'</p>
<p class="p1"><span class="Apple-converted-space">              </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>]}</p>
<p class="p1"><span class="Apple-converted-space">            </span>onAdd={() =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">              </span>if (currentOptionText.trim()) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>setVoteOptions([...voteOptions, {</p>
<p class="p1"><span class="Apple-converted-space">                  </span>id: Date.now(),</p>
<p class="p1"><span class="Apple-converted-space">                  </span>text: currentOptionText</p>
<p class="p1"><span class="Apple-converted-space">                </span>}]);</p>
<p class="p1"><span class="Apple-converted-space">                </span>setCurrentOptionText('');</p>
<p class="p1"><span class="Apple-converted-space">              </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>}}</p>
<p class="p1"><span class="Apple-converted-space">            </span>items={voteOptions}</p>
<p class="p1"><span class="Apple-converted-space">            </span>onDelete={(id) =&gt; setVoteOptions(voteOptions.filter(o =&gt; o.id !== id))}</p>
<p class="p1"><span class="Apple-converted-space">            </span>renderItem={(option) =&gt; (</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;p className="font-bold text-xs text-black uppercase"&gt;{option.text}&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>)}</p>
<p class="p1"><span class="Apple-converted-space">            </span>addButtonLabel="+ ADD OPTION"</p>
<p class="p1"><span class="Apple-converted-space">            </span>/&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;div className="border-t-2 border-dashed border-gray-400 my-6"&gt;&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;h3 className="text-lg font-bold mb-4 text-black uppercase tracking-wider"&gt;PEOPLE&lt;/h3&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;p className="text-xs mb-3 text-black"&gt;List the people in the group, their financial resources, and how they chose to vote.&lt;/p&gt;</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;AddItemCard</p>
<p class="p1"><span class="Apple-converted-space">              </span>title=""</p>
<p class="p1"><span class="Apple-converted-space">              </span>containerClassName=""</p>
<p class="p1"><span class="Apple-converted-space">              </span>fields={[</p>
<p class="p1"><span class="Apple-converted-space">              </span>{</p>
<p class="p1"><span class="Apple-converted-space">                </span>value: currentParticipantName,</p>
<p class="p1"><span class="Apple-converted-space">                </span>onChange: (e) =&gt; setCurrentParticipantName(e.target.value),</p>
<p class="p1"><span class="Apple-converted-space">                </span>placeholder: "NAME",</p>
<p class="p1"><span class="Apple-converted-space">                </span>minWidth: '120px'</p>
<p class="p1"><span class="Apple-converted-space">              </span>},</p>
<p class="p1"><span class="Apple-converted-space">              </span>{</p>
<p class="p1"><span class="Apple-converted-space">                </span>value: currentParticipantWealth,</p>
<p class="p1"><span class="Apple-converted-space">                </span>onChange: (e) =&gt; setCurrentParticipantWealth(e.target.value),</p>
<p class="p1"><span class="Apple-converted-space">                </span>placeholder: `${currency} ${wealthType === 'salary' ? 'SALARY' : 'NET WORTH'}`,</p>
<p class="p1"><span class="Apple-converted-space">                </span>type: 'number',</p>
<p class="p1"><span class="Apple-converted-space">                </span>min: '0',</p>
<p class="p1"><span class="Apple-converted-space">                </span>step: '0.01',</p>
<p class="p1"><span class="Apple-converted-space">                </span>inputMode: 'decimal',</p>
<p class="p1"><span class="Apple-converted-space">                </span>minWidth: '150px'</p>
<p class="p1"><span class="Apple-converted-space">              </span>},</p>
<p class="p1"><span class="Apple-converted-space">              </span>{</p>
<p class="p1"><span class="Apple-converted-space">                </span>type: 'select',</p>
<p class="p1"><span class="Apple-converted-space">                </span>value: currentParticipantVote,</p>
<p class="p1"><span class="Apple-converted-space">                </span>onChange: (e) =&gt; setCurrentParticipantVote(e.target.value),</p>
<p class="p1"><span class="Apple-converted-space">                </span>placeholder: "VOTE",</p>
<p class="p1"><span class="Apple-converted-space">                </span>options: voteOptions.map(o =&gt; o.text),</p>
<p class="p1"><span class="Apple-converted-space">                </span>minWidth: '120px'</p>
<p class="p1"><span class="Apple-converted-space">              </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>]}</p>
<p class="p1"><span class="Apple-converted-space">            </span>onAdd={() =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">              </span>if (currentParticipantName.trim()) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>setVoteParticipants([...voteParticipants, {</p>
<p class="p1"><span class="Apple-converted-space">                  </span>id: Date.now(),</p>
<p class="p1"><span class="Apple-converted-space">                  </span>name: currentParticipantName,</p>
<p class="p1"><span class="Apple-converted-space">                  </span>wealth: currentParticipantWealth,</p>
<p class="p1"><span class="Apple-converted-space">                  </span>vote: currentParticipantVote</p>
<p class="p1"><span class="Apple-converted-space">                </span>}]);</p>
<p class="p1"><span class="Apple-converted-space">                </span>setCurrentParticipantName('');</p>
<p class="p1"><span class="Apple-converted-space">                </span>setCurrentParticipantWealth('');</p>
<p class="p1"><span class="Apple-converted-space">                </span>setCurrentParticipantVote('');</p>
<p class="p1"><span class="Apple-converted-space">              </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>}}</p>
<p class="p1"><span class="Apple-converted-space">            </span>items={voteParticipants}</p>
<p class="p1"><span class="Apple-converted-space">            </span>onDelete={(id) =&gt; setVoteParticipants(voteParticipants.filter(p =&gt; p.id !== id))}</p>
<p class="p1"><span class="Apple-converted-space">            </span>renderItem={(participant) =&gt; (</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;p className={`${CLS.textXsBlack} ${CLS.fontBoldBlackUpper}`}&gt;{participant.name}&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;p className={CLS.textXsBlack}&gt;{wealthType === 'salary' ? 'Salary' : 'Net worth'}: {formatCurrency(participant.wealth)}&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;p className={CLS.textXsBlack}&gt;Vote: {participant.vote || 'Not selected'}&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;/&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>)}</p>
<p class="p1"><span class="Apple-converted-space">            </span>addButtonLabel="+ ADD PARTICIPANT"</p>
<p class="p1"><span class="Apple-converted-space">            </span>/&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>{/* Box 3: Settings */}</p>
<p class="p1"><span class="Apple-converted-space">        </span>{renderSettingsPanel(voteWeighting, setVoteWeighting, showVoteSettings, setShowVoteSettings, 'vote-results')}</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;/Layout&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>);</p>
<p class="p1"><span class="Apple-converted-space">  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">  </span>if (page === 'vote-results') {</p>
<p class="p1"><span class="Apple-converted-space">    </span>const { participantsData, totalVotingPower, voteBreakdown, options } = voteCalculations;</p>
<p class="p1"><span class="Apple-converted-space">    </span>const hasData = voteParticipants.length &gt; 0 &amp;&amp; voteDecision.trim() &amp;&amp; voteOptions.length &gt; 0;</p>
<p class="p1"><span class="Apple-converted-space">    </span>const winner = voteBreakdown.length &gt; 0 ? voteBreakdown[0] : null;</p>
<p class="p1"><span class="Apple-converted-space">    </span>const isTie = hasData &amp;&amp; voteBreakdown.length &gt; 1 &amp;&amp; voteBreakdown[0].percentage === voteBreakdown[1].percentage;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>return (</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;Layout onNavigate={navigateTo} showCopyToast={showCopyToast}&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;div className="bg-white p-8 border-2 border-dashed border-gray-400 mb-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;h2 className="text-2xl font-black mb-6 text-black uppercase tracking-wider border-b-4 border-black pb-2"&gt;VOTING RESULTS&lt;/h2&gt;</p>
<p class="p2"><span class="Apple-converted-space">          </span></p>
<p class="p1"><span class="Apple-converted-space">          </span>{!hasData &amp;&amp; renderNoDataState('vote-entry')}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">          </span>{hasData &amp;&amp; (</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;div className="bg-black text-white p-8 mb-4 border-4 border-black"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;h3 className="text-2xl font-black mb-4 uppercase tracking-wider border-b-2 border-white pb-2"&gt;DECISION&lt;/h3&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;p className="text-lg mb-6 font-semibold"&gt;{voteDecision.toUpperCase()}&lt;/p&gt;</p>
<p class="p2"><span class="Apple-converted-space">                </span></p>
<p class="p1"><span class="Apple-converted-space">                </span>{isTie ? (</p>
<p class="p1"><span class="Apple-converted-space">                  </span>&lt;p className="text-xl font-bold"&gt;PERFECT TIE. NO CLEAR WINNER.&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>) : winner ? (</p>
<p class="p1"><span class="Apple-converted-space">                  </span>&lt;&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;p className="text-sm mb-2"&gt;WINNING OPTION:&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;p className="text-3xl font-black mb-2"&gt;{winner.option.toUpperCase()}&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;p className="text-xl font-semibold"&gt;{winner.percentage.toFixed(1)}% OF VOTING POWER&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                  </span>&lt;/&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>) : (</p>
<p class="p1"><span class="Apple-converted-space">                  </span>&lt;p className="text-lg font-bold"&gt;NO VOTES CAST&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>)}</p>
<p class="p2"><span class="Apple-converted-space">                </span></p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;p className="text-xs mt-4 border-t-2 border-dashed border-white pt-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                  </span>{voteParticipants.length} PARTICIPANT{voteParticipants.length !== 1 ? 'S' : ''}</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">              </span>{renderStatsRow([</p>
<p class="p1"><span class="Apple-converted-space">                </span>{ label: 'PARTICIPANTS', value: voteParticipants.length },</p>
<p class="p1"><span class="Apple-converted-space">                </span>{ label: 'OPTIONS', value: options.length },</p>
<p class="p1"><span class="Apple-converted-space">                </span>{ label: 'WEIGHTING', value: getWeightingLabel(voteWeighting) }</p>
<p class="p1"><span class="Apple-converted-space">              </span>])}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;DetailToggleButton show={showVoteDetails} onClick={() =&gt; setShowVoteDetails(!showVoteDetails)} /&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">              </span>{showVoteDetails &amp;&amp; (</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div className="animate-fadeIn"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                  </span>&lt;div className="border-t-2 border-dashed border-gray-400 my-6"&gt;&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">                  </span></p>
<p class="p1"><span class="Apple-converted-space">                  </span>&lt;div className="mb-6"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;h3 className="text-lg font-bold mb-4 text-black uppercase tracking-wider"&gt;VOTE BREAKDOWN&lt;/h3&gt;</p>
<p class="p2"><span class="Apple-converted-space">                    </span></p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div className="space-y-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                      </span>{voteBreakdown.map((item, i) =&gt; (</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div key={i} className="border-2 border-gray-400 p-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                          </span>&lt;div className="flex justify-between items-start mb-3 border-b border-dashed border-gray-400 pb-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;p className="font-bold text-sm text-black uppercase"&gt;#{i + 1} {item.option}&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;span className="px-2 py-1 text-xs font-bold bg-black text-white border border-black"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                              </span>{item.percentage.toFixed(1)}%</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                          </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                          </span>&lt;p className="text-xs text-black mb-2 font-bold"&gt;VOTERS ({item.voters.length}):&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                          </span>&lt;div className="space-y-1"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>{item.voters.map(v =&gt; (</p>
<p class="p1"><span class="Apple-converted-space">                              </span>&lt;p key={v.name} className="text-xs text-black"&gt;• {v.name} (Power: {v.votingPower.toFixed(2)})&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>))}</p>
<p class="p1"><span class="Apple-converted-space">                          </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                      </span>))}</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                  </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                  </span>&lt;div className="border-t-2 border-dashed border-gray-400 my-6"&gt;&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                  </span>&lt;div className="mb-6"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;h3 className="text-lg font-bold mb-4 text-black uppercase tracking-wider"&gt;PARTICIPANT DATA&lt;/h3&gt;</p>
<p class="p2"><span class="Apple-converted-space">                    </span></p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div className="space-y-3"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                      </span>{[...participantsData].sort((a, b) =&gt; b.wealth - a.wealth).map((p, idx) =&gt; (</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div key={p.id || idx} className={CLS.bgWhiteP4Border2}&gt;</p>
<p class="p1"><span class="Apple-converted-space">                          </span>&lt;p className={`font-bold text-sm text-black mb-3 uppercase ${CLS.borderDashedGray} pb-2`}&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>{p.name}</p>
<p class="p1"><span class="Apple-converted-space">                          </span>&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                          </span>&lt;div className={`space-y-2 ${CLS.textXsBlack}`}&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div className="flex justify-between"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                              </span>&lt;span className={CLS.textBlackFontBold}&gt;WEALTH:&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                              </span>&lt;span className="font-semibold text-black"&gt;{formatCurrency(p.wealth)}&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div className="flex justify-between"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                              </span>&lt;span className={CLS.textBlackFontBold}&gt;VOTE:&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                              </span>&lt;span className="font-semibold text-black"&gt;{p.vote || 'NO VOTE'}&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div className={`flex justify-between pt-2 border-t ${CLS.borderDashedGray}`}&gt;</p>
<p class="p1"><span class="Apple-converted-space">                              </span>&lt;span className={CLS.textBlackFontBold}&gt;VOTING POWER:&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                              </span>&lt;span className="font-black text-black"&gt;{p.votingPower.toFixed(2)}&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                          </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                      </span>))}</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                  </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                  </span>&lt;div className="border-t-2 border-dashed border-gray-400 my-6"&gt;&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                  </span>&lt;div className="mb-6"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;h3 className="text-lg font-bold mb-4 text-black uppercase tracking-wider"&gt;VOTE DISTRIBUTION&lt;/h3&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div className="space-y-3"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                      </span>{(() =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>// Calculate unweighted percentages</p>
<p class="p1"><span class="Apple-converted-space">                        </span>const unweightedVotes = options.map(option =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                          </span>const voters = participantsData.filter(p =&gt; p.vote === option);</p>
<p class="p1"><span class="Apple-converted-space">                          </span>const percentage = participantsData.length &gt; 0 ? (voters.length / participantsData.length) * 100 : 0;</p>
<p class="p1"><span class="Apple-converted-space">                          </span>return { option, percentage, voters };</p>
<p class="p1"><span class="Apple-converted-space">                        </span>});</p>
<p class="p2"><span class="Apple-converted-space">                        </span></p>
<p class="p1"><span class="Apple-converted-space">                        </span>// Sort by weighted percentage (descending)</p>
<p class="p1"><span class="Apple-converted-space">                        </span>const sortedBreakdown = [...voteBreakdown];</p>
<p class="p2"><span class="Apple-converted-space">                        </span></p>
<p class="p1"><span class="Apple-converted-space">                        </span>return sortedBreakdown.map((item, idx) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                          </span>const unweighted = unweightedVotes.find(u =&gt; u.option === item.option);</p>
<p class="p1"><span class="Apple-converted-space">                          </span>const unweightedPct = unweighted ? unweighted.percentage : 0;</p>
<p class="p1"><span class="Apple-converted-space">                          </span>const maxPct = Math.max(...sortedBreakdown.map(b =&gt; b.percentage));</p>
<p class="p1"><span class="Apple-converted-space">                          </span>const weightedWidth = maxPct &gt; 0 ? (item.percentage / maxPct) * 100 : 0;</p>
<p class="p1"><span class="Apple-converted-space">                          </span>const unweightedWidth = maxPct &gt; 0 ? (unweightedPct / maxPct) * 100 : 0;</p>
<p class="p2"><span class="Apple-converted-space">                          </span></p>
<p class="p1"><span class="Apple-converted-space">                          </span>return (</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div key={idx} className="mb-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                              </span>&lt;p className="font-bold text-black mb-1 text-xs uppercase"&gt;{item.option}&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                              </span>&lt;div className="space-y-1"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div className="flex items-center gap-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                  </span>&lt;span className="text-xs text-black w-24 font-bold"&gt;WEIGHTED:&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                  </span>&lt;div className="flex-1 bg-gray-200 h-6 relative overflow-hidden border border-gray-400"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;div<span class="Apple-converted-space"> </span></p>
<p class="p1"><span class="Apple-converted-space">                                      </span>className="h-6 transition-all duration-300 bar-animate flex items-center justify-end pr-2 bg-black"</p>
<p class="p1"><span class="Apple-converted-space">                                      </span>style={{</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>width: `${weightedWidth}%`,</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>animationDelay: `${idx * 0.1}s`</p>
<p class="p1"><span class="Apple-converted-space">                                      </span>}}</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                      </span>{weightedWidth &gt; 15 &amp;&amp; &lt;span className="text-xs font-bold text-white"&gt;{item.percentage.toFixed(1)}%&lt;/span&gt;}</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                  </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                  </span>&lt;span className="text-xs font-bold text-black w-16 text-right"&gt;{item.percentage.toFixed(1)}%&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div className="flex items-center gap-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                  </span>&lt;span className="text-xs text-black w-24 font-bold"&gt;UNWEIGHTED:&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                  </span>&lt;div className="flex-1 bg-gray-200 h-6 relative overflow-hidden border border-gray-400"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;div<span class="Apple-converted-space"> </span></p>
<p class="p1"><span class="Apple-converted-space">                                      </span>className="h-6 transition-all duration-300 bar-animate flex items-center justify-end pr-2 bg-black"</p>
<p class="p1"><span class="Apple-converted-space">                                      </span>style={{</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>width: `${unweightedWidth}%`,</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>animationDelay: `${idx * 0.1 + 0.05}s`</p>
<p class="p1"><span class="Apple-converted-space">                                      </span>}}</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                      </span>{unweightedWidth &gt; 15 &amp;&amp; &lt;span className="text-xs font-bold text-white"&gt;{unweightedPct.toFixed(1)}%&lt;/span&gt;}</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                  </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                  </span>&lt;span className="text-xs font-bold text-black w-16 text-right"&gt;{unweightedPct.toFixed(1)}%&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                              </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                          </span>);</p>
<p class="p1"><span class="Apple-converted-space">                        </span>});</p>
<p class="p1"><span class="Apple-converted-space">                      </span>})()}</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                  </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                  </span>&lt;div className="border-t-2 border-dashed border-gray-400 my-6"&gt;&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                  </span>&lt;div className="mb-6"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;h3 className="text-lg font-bold mb-4 text-black uppercase tracking-wider"&gt;WEALTH VISUALIZATION&lt;/h3&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>{renderWealthPieChart(participantsData, currency, formatNumber)}</p>
<p class="p1"><span class="Apple-converted-space">                  </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>)}</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>)}</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>{renderResultsFooter(</p>
<p class="p1"><span class="Apple-converted-space">          </span>hasData,</p>
<p class="p1"><span class="Apple-converted-space">          </span>`Voting Results\n\nDecision: ${voteDecision}\nWeighting: ${getWeightingLabel(voteWeighting)}\n\nWinner: ${winner ? `${winner.option} (${winner.percentage.toFixed(1)}%)` : 'None'}\n\nBreakdown:\n${voteBreakdown.map((b, i) =&gt; `${i + 1}. ${b.option}: ${b.percentage.toFixed(1)}% (${b.voters.length} voter${b.voters.length !== 1 ? 's' : ''})`).join('\n')}`,</p>
<p class="p1"><span class="Apple-converted-space">          </span>'vote-entry'</p>
<p class="p1"><span class="Apple-converted-space">        </span>)}</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;/Layout&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>);</p>
<p class="p1"><span class="Apple-converted-space">  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">  </span>if (page === 'rent-entry') {</p>
<p class="p1"><span class="Apple-converted-space">    </span>return (</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;Layout onNavigate={navigateTo} showCopyToast={showCopyToast}&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>{renderEntryIntro({</p>
<p class="p1"><span class="Apple-converted-space">          </span>title: 'RENT SPLITTING',</p>
<p class="p1"><span class="Apple-converted-space">          </span>description: 'Figuring out rent splits with roommates can be a fraught process. Decide it more fairly by accounting for both room size and tenants\' financial resources. Larger rooms and higher earners both pay more.',</p>
<p class="p1"><span class="Apple-converted-space">          </span>onLoadExample: () =&gt; loadExample('rent'),</p>
<p class="p1"><span class="Apple-converted-space">          </span>clearType: 'rent'</p>
<p class="p1"><span class="Apple-converted-space">        </span>})}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>{/* Box 2: Total Costs and Roommates */}</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;div className="bg-white p-8 border-2 border-dashed border-gray-400 mb-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;div className="mb-6"&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;h3 className="text-lg font-bold mb-4 text-black uppercase tracking-wider"&gt;TOTAL RENTAL COSTS&lt;/h3&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;p className="text-xs mb-3 text-black"&gt;List your total monthly rent, and monthly utility costs.&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;FormInput</p>
<p class="p1"><span class="Apple-converted-space">              </span>type="number"</p>
<p class="p1"><span class="Apple-converted-space">              </span>value={totalRent}</p>
<p class="p1"><span class="Apple-converted-space">              </span>onChange={(e) =&gt; setTotalRent(e.target.value)}</p>
<p class="p1"><span class="Apple-converted-space">              </span>placeholder={`${currency} MONTHLY RENT`}</p>
<p class="p1"><span class="Apple-converted-space">              </span>min="0"</p>
<p class="p1"><span class="Apple-converted-space">              </span>step="0.01"</p>
<p class="p1"><span class="Apple-converted-space">              </span>inputMode="decimal"</p>
<p class="p1"><span class="Apple-converted-space">              </span>className="mb-3"</p>
<p class="p1"><span class="Apple-converted-space">            </span>/&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;FormInput</p>
<p class="p1"><span class="Apple-converted-space">              </span>type="number"</p>
<p class="p1"><span class="Apple-converted-space">              </span>value={totalUtilities}</p>
<p class="p1"><span class="Apple-converted-space">              </span>onChange={(e) =&gt; setTotalUtilities(e.target.value)}</p>
<p class="p1"><span class="Apple-converted-space">              </span>placeholder={`${currency} MONTHLY UTILITIES`}</p>
<p class="p1"><span class="Apple-converted-space">              </span>min="0"</p>
<p class="p1"><span class="Apple-converted-space">              </span>step="0.01"</p>
<p class="p1"><span class="Apple-converted-space">              </span>inputMode="decimal"</p>
<p class="p1"><span class="Apple-converted-space">            </span>/&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;div className="border-t-2 border-dashed border-gray-400 my-6"&gt;&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;h3 className="text-lg font-bold mb-4 text-black uppercase tracking-wider"&gt;TENANTS&lt;/h3&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;p className="text-xs mb-3 text-black"&gt;Add the names and details of each person sharing the property.&lt;/p&gt;</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;AddItemCard</p>
<p class="p1"><span class="Apple-converted-space">              </span>title=""</p>
<p class="p1"><span class="Apple-converted-space">              </span>containerClassName=""</p>
<p class="p1"><span class="Apple-converted-space">              </span>fields={[</p>
<p class="p1"><span class="Apple-converted-space">              </span>{</p>
<p class="p1"><span class="Apple-converted-space">                </span>value: currentRoommateName,</p>
<p class="p1"><span class="Apple-converted-space">                </span>onChange: (e) =&gt; setCurrentRoommateName(e.target.value),</p>
<p class="p1"><span class="Apple-converted-space">                </span>placeholder: "NAME",</p>
<p class="p1"><span class="Apple-converted-space">                </span>minWidth: '120px'</p>
<p class="p1"><span class="Apple-converted-space">              </span>},</p>
<p class="p1"><span class="Apple-converted-space">              </span>{</p>
<p class="p1"><span class="Apple-converted-space">                </span>value: currentRoommateRoomSize,</p>
<p class="p1"><span class="Apple-converted-space">                </span>onChange: (e) =&gt; setCurrentRoommateRoomSize(e.target.value),</p>
<p class="p1"><span class="Apple-converted-space">                </span>placeholder: `ROOM SIZE (${sizeUnit.toUpperCase()})`,</p>
<p class="p1"><span class="Apple-converted-space">                </span>type: 'number',</p>
<p class="p1"><span class="Apple-converted-space">                </span>min: '0',</p>
<p class="p1"><span class="Apple-converted-space">                </span>step: '0.01',</p>
<p class="p1"><span class="Apple-converted-space">                </span>inputMode: 'decimal',</p>
<p class="p1"><span class="Apple-converted-space">                </span>minWidth: '150px'</p>
<p class="p1"><span class="Apple-converted-space">              </span>},</p>
<p class="p1"><span class="Apple-converted-space">              </span>{</p>
<p class="p1"><span class="Apple-converted-space">                </span>value: currentRoommateWealth,</p>
<p class="p1"><span class="Apple-converted-space">                </span>onChange: (e) =&gt; setCurrentRoommateWealth(e.target.value),</p>
<p class="p1"><span class="Apple-converted-space">                </span>placeholder: `${currency} ${wealthType === 'salary' ? 'SALARY' : 'NET WORTH'}`,</p>
<p class="p1"><span class="Apple-converted-space">                </span>type: 'number',</p>
<p class="p1"><span class="Apple-converted-space">                </span>min: '0',</p>
<p class="p1"><span class="Apple-converted-space">                </span>step: '0.01',</p>
<p class="p1"><span class="Apple-converted-space">                </span>inputMode: 'decimal',</p>
<p class="p1"><span class="Apple-converted-space">                </span>minWidth: '180px'</p>
<p class="p1"><span class="Apple-converted-space">              </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>]}</p>
<p class="p1"><span class="Apple-converted-space">            </span>onAdd={() =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">              </span>if (currentRoommateName.trim()) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>setRentPeople([...rentPeople, {</p>
<p class="p1"><span class="Apple-converted-space">                  </span>id: Date.now(),</p>
<p class="p1"><span class="Apple-converted-space">                  </span>name: currentRoommateName,</p>
<p class="p1"><span class="Apple-converted-space">                  </span>roomSize: currentRoommateRoomSize,</p>
<p class="p1"><span class="Apple-converted-space">                  </span>wealth: currentRoommateWealth</p>
<p class="p1"><span class="Apple-converted-space">                </span>}]);</p>
<p class="p1"><span class="Apple-converted-space">                </span>setCurrentRoommateName('');</p>
<p class="p1"><span class="Apple-converted-space">                </span>setCurrentRoommateRoomSize('');</p>
<p class="p1"><span class="Apple-converted-space">                </span>setCurrentRoommateWealth('');</p>
<p class="p1"><span class="Apple-converted-space">              </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>}}</p>
<p class="p1"><span class="Apple-converted-space">            </span>items={rentPeople}</p>
<p class="p1"><span class="Apple-converted-space">            </span>onDelete={(id) =&gt; setRentPeople(rentPeople.filter(p =&gt; p.id !== id))}</p>
<p class="p1"><span class="Apple-converted-space">            </span>renderItem={(person) =&gt; (</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;p className={`${CLS.textXsBlack} ${CLS.fontBoldBlackUpper}`}&gt;{person.name}&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;p className={CLS.textXsBlack}&gt;Room: {formatNumber((parseFloat(person.roomSize) || 0).toFixed(0))} {sizeUnit}&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;p className={CLS.textXsBlack}&gt;{wealthType === 'salary' ? 'Salary' : 'Net worth'}: {formatCurrency(person.wealth)}&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;/&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>)}</p>
<p class="p1"><span class="Apple-converted-space">            </span>addButtonLabel="+ ADD ROOMMATE"</p>
<p class="p1"><span class="Apple-converted-space">            </span>/&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>{/* Box 3: Settings */}</p>
<p class="p1"><span class="Apple-converted-space">        </span>{renderSettingsPanel(rentWeighting, setRentWeighting, showRentSettings, setShowRentSettings, 'rent-results')}</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;/Layout&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>);</p>
<p class="p1"><span class="Apple-converted-space">  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">  </span>if (page === 'rent-results') {</p>
<p class="p1"><span class="Apple-converted-space">    </span>const { rentAmount, utilitiesAmount, total, totalRoomSize, rentData, avgRent, totalRoomValue } = rentCalculations;</p>
<p class="p1"><span class="Apple-converted-space">    </span>const hasData = rentPeople.length &gt; 0 &amp;&amp; parseFloat(totalRent) &gt; 0;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>return (</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;Layout onNavigate={navigateTo} showCopyToast={showCopyToast}&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;div className="bg-white p-8 border-2 border-dashed border-gray-400 mb-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;h2 className="text-2xl font-black mb-6 text-black uppercase tracking-wider border-b-4 border-black pb-2"&gt;RENT SPLITTING RESULTS&lt;/h2&gt;</p>
<p class="p2"><span class="Apple-converted-space">          </span></p>
<p class="p1"><span class="Apple-converted-space">          </span>{!hasData &amp;&amp; renderNoDataState('rent-entry')}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">          </span>{hasData &amp;&amp; (</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;div className="bg-black text-white p-8 mb-4 border-4 border-black"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;h3 className="text-2xl font-black mb-4 uppercase tracking-wider border-b-2 border-white pb-2"&gt;MONTHLY PAYMENTS&lt;/h3&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div className="space-y-3"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                  </span>{rentData.map((person) =&gt; (</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div key={person.id} className="border-b border-dashed border-white pb-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                      </span>&lt;p className="text-lg font-semibold"&gt;{person.name.toUpperCase()}&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                      </span>&lt;p className="text-3xl font-black"&gt;{formatCurrencySmart(person.fairRent)}&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                      </span>&lt;p className={CLS.textXsBlack}&gt;{person.rentPct.toFixed(1)}% of total&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                  </span>))}</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;p className={`${CLS.textXsBlack} mt-4 border-t-2 border-dashed border-white pt-2`}&gt;</p>
<p class="p1"><span class="Apple-converted-space">                  </span>TOTAL: {formatCurrency(total)}/MONTH</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">              </span>{renderStatsRow([</p>
<p class="p1"><span class="Apple-converted-space">                </span>{ label: 'RENT', value: formatCurrency(rentAmount) },</p>
<p class="p1"><span class="Apple-converted-space">                </span>{ label: 'UTILITIES', value: formatCurrency(utilitiesAmount) },</p>
<p class="p1"><span class="Apple-converted-space">                </span>{ label: 'TENANTS', value: rentPeople.length },</p>
<p class="p1"><span class="Apple-converted-space">                </span>{ label: 'WEIGHTING', value: getWeightingLabel(rentWeighting) }</p>
<p class="p1"><span class="Apple-converted-space">              </span>])}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;DetailToggleButton show={showRentDetails} onClick={() =&gt; setShowRentDetails(!showRentDetails)} /&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">              </span>{showRentDetails &amp;&amp; (</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div className="animate-fadeIn"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                  </span>&lt;div className="border-t-2 border-dashed border-gray-400 my-6"&gt;&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">                  </span></p>
<p class="p1"><span class="Apple-converted-space">                  </span>&lt;div className="mb-6"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;h3 className="text-lg font-bold mb-4 text-black uppercase tracking-wider"&gt;ROOMMATE DATA&lt;/h3&gt;</p>
<p class="p2"><span class="Apple-converted-space">                    </span></p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div className="space-y-3"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                      </span>{rentData.map((p, idx) =&gt; (</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div key={p.id || idx} className={CLS.bgWhiteP4Border2}&gt;</p>
<p class="p1"><span class="Apple-converted-space">                          </span>&lt;p className={`font-bold text-sm text-black mb-3 uppercase ${CLS.borderDashedGray} pb-2`}&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>{p.name}</p>
<p class="p1"><span class="Apple-converted-space">                          </span>&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                          </span>&lt;div className={`space-y-2 ${CLS.textXsBlack}`}&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div className="flex justify-between"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                              </span>&lt;span className={CLS.textBlackFontBold}&gt;ROOM SIZE:&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                              </span>&lt;span className="font-semibold text-black"&gt;{formatNumber(p.roomSize.toFixed(0))} {sizeUnit}&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div className="flex justify-between"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                              </span>&lt;span className={CLS.textBlackFontBold}&gt;WEALTH:&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                              </span>&lt;span className="font-semibold text-black"&gt;{formatCurrency(p.wealth)}&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div className={`flex justify-between pt-2 border-t ${CLS.borderDashedGray}`}&gt;</p>
<p class="p1"><span class="Apple-converted-space">                              </span>&lt;span className={CLS.textBlackFontBold}&gt;MONTHLY RENT:&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                              </span>&lt;span className="font-black text-black"&gt;{formatCurrencySmart(p.fairRent)}&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div className="flex justify-between"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                              </span>&lt;span className={CLS.textBlackFontBold}&gt;% OF TOTAL:&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                              </span>&lt;span className="font-black text-black"&gt;{p.rentPct.toFixed(1)}%&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                          </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                      </span>))}</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                  </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                  </span>&lt;div className="border-t-2 border-dashed border-gray-400 my-6"&gt;&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                  </span>&lt;div className="mb-6"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;h3 className="text-lg font-bold mb-4 text-black uppercase tracking-wider"&gt;RENT AND ROOM SIZE BREAKDOWN&lt;/h3&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div className="space-y-3"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                      </span>{rentData.map((p, idx) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>const maxRent = Math.max(...rentData.map(d =&gt; d.fairRent));</p>
<p class="p1"><span class="Apple-converted-space">                        </span>const rentWidth = maxRent &gt; 0 ? (p.fairRent / maxRent) * 100 : 0;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>const roomWidth = totalRoomSize &gt; 0 ? (p.roomSize / totalRoomSize) * 100 : 0;</p>
<p class="p2"><span class="Apple-converted-space">                        </span></p>
<p class="p1"><span class="Apple-converted-space">                        </span>return (</p>
<p class="p1"><span class="Apple-converted-space">                          </span>&lt;div key={p.id || idx} className="mb-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;p className="font-bold text-black mb-1 text-xs uppercase"&gt;{p.name}&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div className="space-y-1"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                              </span>&lt;div className="flex items-center gap-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;span className={`${CLS.textXsBlack} w-20 ${CLS.textBlackFontBold}`}&gt;RENT:&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div className="flex-1 bg-gray-200 h-6 relative overflow-hidden border border-gray-400"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                  </span>&lt;div<span class="Apple-converted-space"> </span></p>
<p class="p1"><span class="Apple-converted-space">                                    </span>className="h-6 transition-all duration-300 bar-animate flex items-center justify-end pr-2 bg-black"</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>style={{</p>
<p class="p1"><span class="Apple-converted-space">                                      </span>width: `${rentWidth}%`,</p>
<p class="p1"><span class="Apple-converted-space">                                      </span>animationDelay: `${idx * 0.1}s`</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>}}</p>
<p class="p1"><span class="Apple-converted-space">                                  </span>&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>{rentWidth &gt; 15 &amp;&amp; &lt;span className={`${CLS.textXsBlack} font-bold text-white`}&gt;{p.rentPct.toFixed(0)}%&lt;/span&gt;}</p>
<p class="p1"><span class="Apple-converted-space">                                  </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;span className={`${CLS.textXsBlack} ${CLS.textBlackFontBold} w-24 text-right`}&gt;{formatCurrencySmart(p.fairRent)}&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                              </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                              </span>&lt;div className="flex items-center gap-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;span className={`${CLS.textXsBlack} w-20 ${CLS.textBlackFontBold}`}&gt;ROOM:&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div className="flex-1 bg-gray-200 h-6 relative overflow-hidden border border-gray-400"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                  </span>&lt;div<span class="Apple-converted-space"> </span></p>
<p class="p1"><span class="Apple-converted-space">                                    </span>className="h-6 transition-all duration-300 bar-animate flex items-center justify-end pr-2 bg-black"</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>style={{</p>
<p class="p1"><span class="Apple-converted-space">                                      </span>width: `${roomWidth}%`,</p>
<p class="p1"><span class="Apple-converted-space">                                      </span>animationDelay: `${idx * 0.1 + 0.05}s`</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>}}</p>
<p class="p1"><span class="Apple-converted-space">                                  </span>&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>{roomWidth &gt; 15 &amp;&amp; &lt;span className={`${CLS.textXsBlack} font-bold text-white`}&gt;{p.roomPct.toFixed(0)}%&lt;/span&gt;}</p>
<p class="p1"><span class="Apple-converted-space">                                  </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;span className={`${CLS.textXsBlack} ${CLS.textBlackFontBold} w-24 text-right`}&gt;{formatNumber(p.roomSize.toFixed(0))} {sizeUnit}&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                              </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                          </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>);</p>
<p class="p1"><span class="Apple-converted-space">                      </span>})}</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                  </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                  </span>&lt;div className="border-t-2 border-dashed border-gray-400 my-6"&gt;&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                  </span>&lt;div className="mb-6"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;h3 className="text-lg font-bold mb-4 text-black uppercase tracking-wider"&gt;WEALTH VISUALIZATION&lt;/h3&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>{renderWealthPieChart(rentData, currency, formatNumber)}</p>
<p class="p1"><span class="Apple-converted-space">                  </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>)}</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>)}</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>{renderResultsFooter(</p>
<p class="p1"><span class="Apple-converted-space">          </span>hasData,</p>
<p class="p1"><span class="Apple-converted-space">          </span>`Rent Splitting Results\n\nTotal: ${formatCurrency(total)}/month\nRent: ${formatCurrency(rentAmount)}\nUtilities: ${formatCurrency(utilitiesAmount)}\nWeighting: ${getWeightingLabel(rentWeighting)}\n\nBreakdown:\n${rentData.map(p =&gt; `${p.name}: ${formatCurrencySmart(p.fairRent)} (${p.rentPct.toFixed(1)}%) - ${formatNumber(p.roomSize.toFixed(0))} ${sizeUnit}`).join('\n')}`,</p>
<p class="p1"><span class="Apple-converted-space">          </span>'rent-entry'</p>
<p class="p1"><span class="Apple-converted-space">        </span>)}</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;/Layout&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>);</p>
<p class="p1"><span class="Apple-converted-space">  </span>}</p>
<p class="p2"><span class="Apple-converted-space">  </span></p>
<p class="p1"><span class="Apple-converted-space">  </span>return null;</p>
<p class="p1">};</p>
<p class="p1"><span class="Apple-converted-space">        </span>const root = ReactDOM.createRoot(document.getElementById('root'));</p>
<p class="p1"><span class="Apple-converted-space">        </span>root.render(&lt;Comrade /&gt;);</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;/script&gt;</p>
<p class="p1">&lt;/body&gt;</p>
<p class="p1">&lt;/html&gt;</p>
</body>
</html>
